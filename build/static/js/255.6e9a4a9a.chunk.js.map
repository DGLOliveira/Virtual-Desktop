{"version":3,"file":"static/js/255.6e9a4a9a.chunk.js","mappings":"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AG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAE9D,EAAG,CACC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D,CAAC,EAAG,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","sources":["Apps/Arcade/Handlers/handleCanvasBorders.js","Apps/Arcade/Games/Breakout/Breakout.js","Apps/Arcade/Games/Snake/Snake.js","Apps/Arcade/Games/Space Invaders/SpaceInvaders.js","Apps/Arcade/Handlers/handleAction.js","Apps/Arcade/Handlers/handleTopMenu.js","Apps/Arcade/Components/KeybindDialog.jsx","Apps/Arcade/index.jsx","Apps/Arcade/Controls/Keyboard.js"],"sourcesContent":["export const handleCanvasBorders = (ctx, width, height) => {\r\n    ctx.fillStyle = \"silver\";\r\n    ctx.fillRect(0, 0, width, 1);\r\n    ctx.fillRect(0, 0, 1, height);\r\n    ctx.fillRect(width - 1, 0, 1, height);\r\n    ctx.fillRect(0, height - 1, width, 1);\r\n} ","import React, { useState, useRef, useEffect } from \"react\";\r\nimport LevelsJSON from \"./Breakout_Maps.json\";\r\nimport { handleCanvasBorders } from \"../../Handlers/handleCanvasBorders.js\";\r\n\r\nconst frequency = 60; //Hertz\r\nconst frameRate = 1000 / frequency; // frames / milisecond\r\nconst rows = 30;\r\nconst cols = 30;\r\nconst defaultPlayerBar = {\r\n  x: 12,\r\n  y: 27,\r\n  w: 6,\r\n};\r\nconst defaultBall = {\r\n  x: 15,\r\n  y: 50,\r\n  r: 0.5,\r\n  dirX: 0.25,\r\n  dirY: -0.25,\r\n};\r\nconst defaultFirework = {\r\n  x: 15,\r\n  y: 52,\r\n  r: 0.25,\r\n  dirX: 0,\r\n  dirY: -0.25,\r\n  t: -5,\r\n  color: \"\",\r\n};\r\nexport default function Breakout({ controls, updateScoreboard, isSelected, gameState, setGameState }) {\r\n  const canvasRef = useRef(null);\r\n  const [Maps, setMaps] = useState(JSON.parse(JSON.stringify(LevelsJSON))); //Only way to deep copy nested objects without external dependency\r\n  const [gameLevel, setGameLevel] = useState(0);\r\n  const [currLevel, setCurrLevel] = useState(Maps[gameLevel]);\r\n  const [levelHealth, setLevelHealth] = useState(currLevel.Bars);\r\n  const [frameCount, setFrameCount] = useState(0);\r\n  const [winFrameCount, setWinFrameCount] = useState(0);\r\n  let [playerBar, setPlayerBar] = useState(Object.create(defaultPlayerBar));\r\n  let [ball, setBall] = useState(Object.create(defaultBall));\r\n  let [firework1] = useState(Object.create(defaultFirework));\r\n  firework1.color = \"blue\";\r\n  let [firework2] = useState(Object.create(defaultFirework));\r\n  firework2.color = \"green\";\r\n  let [firework3] = useState(Object.create(defaultFirework));\r\n  firework3.color = \"red\";\r\n  let [firework4] = useState(Object.create(defaultFirework));\r\n  firework4.color = \"yellow\";\r\n  let [firework5] = useState(Object.create(defaultFirework));\r\n  firework5.color = \"cyan\";\r\n  let [firework6] = useState(Object.create(defaultFirework));\r\n  firework6.color = \"magenta\";\r\n  let [firework7] = useState(Object.create(defaultFirework));\r\n  firework7.color = \"white\";\r\n  const scoreboard = { time: 0, score: 0, gameState: \"Start\" };\r\n  let [score, setScore] = useState(0);\r\n  useEffect(() => {\r\n    if (controls.pause) {\r\n      if (gameState === \"Play\") {\r\n        setGameState(\"Pause\");\r\n      } else if (gameState === \"Pause\") {\r\n        setGameState(\"Play\");\r\n      } else if (\r\n        gameState === \"Win\" ||\r\n        gameState === \"End\" ||\r\n        gameState === \"Start\"\r\n      ) {\r\n        setGameState(\"Restart\");\r\n      }\r\n    }\r\n    if (gameState === \"Play\" || \"Win\") {\r\n      if (\r\n        controls.left &&\r\n        !controls.right &&\r\n        playerBar.x + playerBar.w > playerBar.w\r\n      ) {\r\n        playerBar.x = playerBar.x - 1;\r\n      }\r\n      if (\r\n        controls.right &&\r\n        !controls.left &&\r\n        playerBar.x + playerBar.w < cols\r\n      ) {\r\n        playerBar.x = playerBar.x + 1;\r\n      }\r\n    }\r\n  }, [controls]);\r\n\r\n  const clearDraws = (ctx) => {\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n  };\r\n\r\n  const drawGameOver = (ctx, blockWidth, blockHeight) => {\r\n    ctx.fillStyle = \"red\";\r\n    ctx.font = \"40px monospace\"; //change this nonsense static font size\r\n    ctx.fillText(\"Game Over\", 5 * blockWidth, 17 * blockHeight, 500);\r\n  };\r\n  const drawPauseGame = (ctx, blockWidth, blockHeight) => {\r\n    ctx.fillStyle = \"red\";\r\n    ctx.font = \"40px monospace\"; //and this\r\n    ctx.fillText(\"Paused\", 8 * blockWidth, 17 * blockHeight, 500);\r\n  };\r\n  const handleFireworks = (ctx, blockWidth, blockHeight) => {\r\n    let currFirework;\r\n    for (let i = 0; i <= 6; i++) {\r\n      switch (i) {\r\n        case 0:\r\n          currFirework = firework1;\r\n          break;\r\n        case 1:\r\n          currFirework = firework2;\r\n          break;\r\n        case 2:\r\n          currFirework = firework3;\r\n          break;\r\n        case 3:\r\n          currFirework = firework4;\r\n          break;\r\n        case 4:\r\n          currFirework = firework5;\r\n          break;\r\n        case 5:\r\n          currFirework = firework6;\r\n          break;\r\n        case 6:\r\n          currFirework = firework7;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      if (currFirework.t <= -5) {\r\n        currFirework.t = Math.floor(Math.random() * 4) + 1;\r\n        currFirework.x = playerBar.x + playerBar.w / 2;\r\n        currFirework.y = 52;\r\n        currFirework.dirX = (Math.random() - 0.5) / 8;\r\n        currFirework.dirY = -0.25;\r\n      } else if (currFirework.t > 3) {\r\n        currFirework.t = currFirework.t - 1 / frequency;\r\n      } else if (currFirework.t > 0) {\r\n        currFirework.x = currFirework.x + currFirework.dirX;\r\n        currFirework.y = currFirework.y + currFirework.dirY;\r\n        checkColision(currFirework);\r\n        drawBall(ctx, blockWidth, blockHeight, currFirework);\r\n        currFirework.t = currFirework.t - 1 / frequency;\r\n      } else if (currFirework.t > -5) {\r\n        drawFirework(ctx, blockWidth, blockHeight, currFirework);\r\n        currFirework.t = currFirework.t - 1 / frequency;\r\n      }\r\n    }\r\n  };\r\n  const drawFirework = (ctx, blockWidth, blockHeight, currBall) => {\r\n    for (let i = 0; i < 12; i++) {\r\n      ctx.fillStyle = currBall.color;\r\n      ctx.scale(1, 0.5);\r\n      ctx.beginPath();\r\n      ctx.arc(\r\n        currBall.x * blockWidth +\r\n          Math.cos(((2 * Math.PI) / 12) * i) * currBall.t * 2 * blockWidth,\r\n        currBall.y * blockHeight +\r\n          Math.sin(((2 * Math.PI) / 12) * i) * 2 * currBall.t * 2 * blockHeight,\r\n        (currBall.r / 1) * blockWidth,\r\n        0,\r\n        Math.PI * 2,\r\n      );\r\n      ctx.fill();\r\n      ctx.closePath();\r\n      ctx.scale(1, 2);\r\n    }\r\n  };\r\n  const drawWinGame = (ctx, blockWidth, blockHeight) => {\r\n    clearDraws(ctx);\r\n    ctx.fillStyle = \"red\";\r\n    ctx.font = \"40px monospace\";\r\n    ctx.fillText(\"You Win\", 8 * blockWidth, 17 * blockHeight, 500);\r\n  };\r\n\r\n  const drawLevelUp = (ctx, blockWidth, blockHeight, t) => {\r\n    clearDraws(ctx);\r\n    ctx.fillStyle = \"red\";\r\n    ctx.font = \"40px monospace\";\r\n    switch (t) {\r\n      case 4:\r\n        ctx.fillText(\"Next Level\", 5 * blockWidth, 17 * blockHeight, 500);\r\n        break;\r\n      case 3:\r\n        ctx.fillText(\"3 sec\", 9 * blockWidth, 17 * blockHeight, 500);\r\n        break;\r\n      case 2:\r\n        ctx.fillText(\"2 sec\", 9 * blockWidth, 17 * blockHeight, 500);\r\n        break;\r\n      case 1:\r\n        ctx.fillText(\"1 sec\", 9 * blockWidth, 17 * blockHeight, 500);\r\n        break;\r\n      default:\r\n        ctx.fillText(\"Next Level\", 5 * blockWidth, 17 * blockHeight, 500);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const drawPlayerBar = (ctx, blockWidth, blockHeight) => {\r\n    let newX, newY;\r\n    newX = playerBar.x;\r\n    newY = playerBar.y;\r\n    ctx.fillStyle = \"cyan\";\r\n    ctx.fillRect(\r\n      newX * blockWidth,\r\n      newY * blockHeight,\r\n      playerBar.w * blockWidth,\r\n      blockHeight,\r\n    );\r\n  };\r\n  const drawHitbar = (ctx, blockWidth, blockHeight, obj) => {\r\n    let color;\r\n    switch (obj.h) {\r\n      case 3:\r\n        color = \"green\";\r\n        break;\r\n      case 2:\r\n        color = \"yellow\";\r\n        break;\r\n      case 1:\r\n        color = \"orange\";\r\n        break;\r\n      default:\r\n        color = \"blue\";\r\n        break;\r\n    }\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(\r\n      obj.x * blockWidth,\r\n      obj.y * blockHeight,\r\n      obj.w * blockWidth,\r\n      blockHeight,\r\n    );\r\n  };\r\n  const drawLevel = (ctx, blockWidth, blockHeight) => {\r\n    for (let i = 0; i < currLevel.Bars; i++) {\r\n      if (currLevel.Matrix[i].h > 0)\r\n        drawHitbar(ctx, blockWidth, blockHeight, currLevel.Matrix[i]);\r\n    }\r\n  };\r\n  const barHit = (bar) => {\r\n    if (bar.h - 1 >= 0) {\r\n      bar.h = bar.h - 1;\r\n      score = score + bar.s;\r\n      setScore(score);\r\n    }\r\n    if (bar.h === 0) {\r\n      setLevelHealth(levelHealth - 1);\r\n      if (levelHealth - 1 === 0) {\r\n        setGameState(\"LevelUp\");\r\n      }\r\n    }\r\n  };\r\n  //colisions against corners count as double damage\r\n  const checkColision = (currBall) => {\r\n    if (currBall.x === 0 || currBall.x === cols) {\r\n      currBall.dirX = -currBall.dirX;\r\n    }\r\n    if (currBall.y === 0) {\r\n      currBall.dirY = -currBall.dirY;\r\n    } else if (currBall.y === rows * 2) {\r\n      setGameState(\"End\");\r\n    }\r\n    if (currBall.y + currBall.r === playerBar.y * 2) {\r\n      if (\r\n        currBall.x >= playerBar.x &&\r\n        currBall.x <= playerBar.x + playerBar.w\r\n      ) {\r\n        currBall.dirY = -currBall.dirY;\r\n      }\r\n    }\r\n    let bar;\r\n    for (let i = 0; i < currLevel.Bars; i++) {\r\n      bar = currLevel.Matrix[i];\r\n      if (bar.h > 0) {\r\n        //compare boundaries\r\n        if (\r\n          currBall.x + currBall.r >= bar.x &&\r\n          currBall.x - currBall.r <= bar.x + bar.w &&\r\n          currBall.y + currBall.r >= bar.y * 2 &&\r\n          currBall.y - currBall.r <= (bar.y + 1) * 2\r\n        ) {\r\n          //horizontal colision\r\n          if (\r\n            currBall.x + currBall.r > bar.x &&\r\n            currBall.x - currBall.r < bar.x + bar.w\r\n          ) {\r\n            currBall.dirY = -currBall.dirY;\r\n            barHit(bar);\r\n          }\r\n          //vertical colision\r\n          if (\r\n            currBall.y + currBall.r > bar.y * 2 &&\r\n            currBall.y - currBall.r < (bar.y + 1) * 2\r\n          ) {\r\n            currBall.dirX = -currBall.dirX;\r\n            barHit(bar);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  // for some reason, arc is coming out as ellipse instead of simple sphere\r\n  // rescaling on the Y axis used as fix, all values for ball on this axis must be doubled\r\n  const drawBall = (ctx, blockWidth, blockHeight, currBall) => {\r\n    ctx.fillStyle = \"#FFFFFF\";\r\n    ctx.scale(1, 0.5);\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n      currBall.x * blockWidth,\r\n      currBall.y * blockHeight,\r\n      currBall.r * blockWidth,\r\n      0,\r\n      Math.PI * 2,\r\n    );\r\n    ctx.fill();\r\n    ctx.closePath();\r\n    ctx.scale(1, 2);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    let blockWidth = context.canvas.width / cols;\r\n    let blockHeight = context.canvas.height / rows;\r\n    let animationFrameId;\r\n    switch (gameState) {\r\n      case \"Play\":\r\n        clearDraws(context);\r\n        handleCanvasBorders(context, context.canvas.width, context.canvas.height);\r\n        drawPlayerBar(context, blockWidth, blockHeight);\r\n        drawLevel(context, blockWidth, blockHeight);\r\n        ball.x = ball.x + ball.dirX;\r\n        ball.y = ball.y + ball.dirY;\r\n        checkColision(ball);\r\n        drawBall(context, blockWidth, blockHeight, ball);\r\n        setTimeout(() => {\r\n          setFrameCount(frameCount + 1);\r\n        }, [frameRate]);\r\n        break;\r\n      case \"Pause\":\r\n        drawPauseGame(context, blockWidth, blockHeight);\r\n        break;\r\n      case \"End\":\r\n        drawGameOver(context, blockWidth, blockHeight);\r\n        break;\r\n      case \"Restart\":\r\n        setMaps(JSON.parse(JSON.stringify(LevelsJSON)));\r\n        setGameLevel(0);\r\n        setCurrLevel(Maps[gameLevel]);\r\n        setLevelHealth(currLevel.Bars);\r\n        setBall(Object.create(defaultBall));\r\n        setPlayerBar(Object.create(defaultPlayerBar));\r\n        setScore(0);\r\n        setFrameCount(1);\r\n        setGameState(\"Play\");\r\n        break;\r\n      case \"LevelUp\":\r\n        if (gameLevel + 1 === 3) {\r\n          setGameState(\"Win\");\r\n        } else {\r\n          drawLevelUp(context, blockWidth, blockHeight, 4);\r\n          setTimeout(() => {\r\n            clearDraws(context, blockWidth, blockHeight);\r\n            drawLevelUp(context, blockWidth, blockHeight, 3);\r\n          }, [1000]);\r\n          setTimeout(() => {\r\n            drawLevelUp(context, blockWidth, blockHeight, 2);\r\n          }, [2000]);\r\n          setTimeout(() => {\r\n            drawLevelUp(context, blockWidth, blockHeight, 1);\r\n          }, [3000]);\r\n          setTimeout(() => {\r\n            setGameLevel(gameLevel + 1);\r\n            setCurrLevel(Maps[gameLevel + 1]);\r\n            setLevelHealth(currLevel.Bars);\r\n            setBall(Object.create(defaultBall));\r\n            clearDraws(context);\r\n            drawLevel(context, blockWidth, blockHeight);\r\n            setGameState(\"Play\");\r\n          }, [4000]);\r\n        }\r\n        break;\r\n      case \"Win\":\r\n        setCurrLevel(Maps[3]);\r\n        drawWinGame(context, blockWidth, blockHeight);\r\n        drawPlayerBar(context, blockWidth, blockHeight);\r\n        handleFireworks(context, blockWidth, blockHeight);\r\n        setTimeout(() => {\r\n          setWinFrameCount(winFrameCount + 1);\r\n        }, [frameRate]);\r\n        break;\r\n      default:\r\n        clearDraws(context);\r\n        break;\r\n    }\r\n    scoreboard.time = Math.floor(frameCount / frequency);\r\n    scoreboard.score = score;\r\n    scoreboard.gameState = gameState;\r\n    updateScoreboard(scoreboard);\r\n    const render = () => {\r\n      animationFrameId = window.requestAnimationFrame(render);\r\n    };\r\n    render();\r\n    return () => {\r\n      window.cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, [frameCount, winFrameCount, gameState]);\r\n\r\n  return <canvas ref={canvasRef}></canvas>;\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { handleCanvasBorders } from \"../../Handlers/handleCanvasBorders.js\";\r\n\r\nconst frequency = 4; //Hertz\r\nconst frameRate = 1000 / frequency; // frames / milisecond\r\n\r\nconst Snake = ({ controls, updateScoreboard, isSelected, gameState, setGameState }) => {\r\n  const rows = 30;\r\n  const cols = 30;\r\n  let canvasRef = useRef(null);\r\n  let [fruit, setFruit] = useState(false);\r\n  let [fruitPos] = useState({ x: 0, y: 0 });\r\n  let [score, setScore] = useState(0);\r\n  let [snakeHeadPos] = useState({\r\n    direction: \"right\",\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n  let [previousDir, setPreviousDir] = useState(\"right\");\r\n  let [snakeBody, setSnakeBody] = useState({ x: [], y: [] });\r\n  let [initialPos, setInitialPos] = useState(false);\r\n  const scoreboard = { time: 0, score: 0, gameState: \"Start\" };\r\n\r\n  useEffect(() => {\r\n    if (controls.pause) {\r\n      if (controls.pause) {\r\n        if (gameState === \"Play\") {\r\n          setGameState(\"Pause\");\r\n        } else if (gameState === \"Pause\") {\r\n          setGameState(\"Play\");\r\n        } else if (\r\n          gameState === \"Win\" ||\r\n          gameState === \"End\" ||\r\n          gameState === \"Start\"\r\n        ) {\r\n          setGameState(\"Restart\");\r\n        }\r\n      }\r\n    }\r\n    if (snakeBody.x[0] === undefined) {\r\n      if (controls.up) {\r\n        snakeHeadPos.direction = \"up\";\r\n      } else if (controls.down) {\r\n        snakeHeadPos.direction = \"down\";\r\n      } else if (controls.left) {\r\n        snakeHeadPos.direction = \"left\";\r\n      } else if (controls.right) {\r\n        snakeHeadPos.direction = \"right\";\r\n      }\r\n    } else {\r\n      if (controls.up && previousDir !== \"down\") {\r\n        snakeHeadPos.direction = \"up\";\r\n      } else if (controls.down && previousDir !== \"up\") {\r\n        snakeHeadPos.direction = \"down\";\r\n      } else if (controls.left && previousDir !== \"right\") {\r\n        snakeHeadPos.direction = \"left\";\r\n      } else if (controls.right && previousDir !== \"left\") {\r\n        snakeHeadPos.direction = \"right\";\r\n      }\r\n    }\r\n  }, [controls]);\r\n\r\n  const drawBoard = (ctx, canvasWidth, canvasHeight) => {\r\n    ctx.fillStyle = \"#000000\";\r\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\r\n  };\r\n\r\n  const drawFruit = (ctx, blockWidth, blockHeight) => {\r\n    let newX, newY;\r\n    let overlapX,\r\n      overlapY = false;\r\n    if (!fruit) {\r\n      fruitPos.x = Math.floor(Math.random() * cols);\r\n      fruitPos.y = Math.floor(Math.random() * rows);\r\n      if (snakeBody.x[0] === undefined) {\r\n        while (fruitPos.x === snakeHeadPos.x && fruitPos.y === snakeHeadPos.y) {\r\n          fruitPos.x = Math.floor(Math.random() * cols);\r\n          fruitPos.y = Math.floor(Math.random() * rows);\r\n        }\r\n      } else {\r\n        for (let i = 0; i < snakeBody.x.length; i++) {\r\n          if (fruitPos.x === snakeBody.x[i]) {\r\n            overlapX = true;\r\n          }\r\n          if (fruitPos.y === snakeBody.y[i]) {\r\n            overlapY = true;\r\n          }\r\n        }\r\n        while (overlapX === true && overlapY === true) {\r\n          fruitPos.x = Math.floor(Math.random() * cols);\r\n          fruitPos.y = Math.floor(Math.random() * rows);\r\n          let flagX = false;\r\n          let flagY = false;\r\n          for (let i = 0; i < snakeBody.x.length; i++) {\r\n            if (fruitPos.x === snakeBody.x[i]) {\r\n              flagX = true;\r\n            }\r\n            if (fruitPos.y === snakeBody.y[i]) {\r\n              flagY = true;\r\n            }\r\n          }\r\n          overlapX = flagX;\r\n          overlapY = flagY;\r\n        }\r\n      }\r\n      newX = fruitPos.x;\r\n      newY = fruitPos.y;\r\n      setFruit(true);\r\n    } else {\r\n      newX = fruitPos.x;\r\n      newY = fruitPos.y;\r\n    }\r\n    ctx.fillStyle = \"#00FF00\";\r\n    ctx.fillRect(\r\n      newX * blockWidth,\r\n      newY * blockHeight,\r\n      blockWidth,\r\n      blockHeight,\r\n    );\r\n  };\r\n\r\n  const drawSnakeHead = (ctx, blockWidth, blockHeight) => {\r\n    let step = 1;\r\n    let newX, newY;\r\n    if (!initialPos) {\r\n      newX = 10 * blockWidth;\r\n      newY = 10 * blockHeight;\r\n      setInitialPos(true);\r\n      snakeHeadPos.x = 10;\r\n      snakeHeadPos.y = 10;\r\n    } else {\r\n      switch (snakeHeadPos.direction) {\r\n        case \"right\":\r\n          newX = snakeHeadPos.x + step;\r\n          newY = snakeHeadPos.y;\r\n          snakeHeadPos.x = snakeHeadPos.x + step;\r\n          break;\r\n        case \"left\":\r\n          newX = snakeHeadPos.x - step;\r\n          newY = snakeHeadPos.y;\r\n          snakeHeadPos.x = snakeHeadPos.x - step;\r\n          break;\r\n        case \"up\":\r\n          newX = snakeHeadPos.x;\r\n          newY = snakeHeadPos.y - step;\r\n          snakeHeadPos.y = snakeHeadPos.y - step;\r\n          break;\r\n        case \"down\":\r\n          newX = snakeHeadPos.x;\r\n          newY = snakeHeadPos.y + step;\r\n          snakeHeadPos.y = snakeHeadPos.y + step;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    setPreviousDir(snakeHeadPos.direction);\r\n    if (snakeBody.x[2] !== undefined) {\r\n      for (let i = 2; i < snakeBody.x.length; i++) {\r\n        if (\r\n          snakeBody.x[i] === snakeHeadPos.x &&\r\n          snakeBody.y[i] === snakeHeadPos.y\r\n        ) {\r\n          setGameState(\"End\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      snakeHeadPos.x >= rows ||\r\n      snakeHeadPos.x < 0 ||\r\n      snakeHeadPos.y < 0 ||\r\n      snakeHeadPos.y >= cols\r\n    ) {\r\n      setGameState(\"End\");\r\n    } else if (fruitPos.x === snakeHeadPos.x && fruitPos.y === snakeHeadPos.y) {\r\n      setFruit(false);\r\n      setScore(score + 1);\r\n      snakeBody.x.unshift(snakeHeadPos.x);\r\n      snakeBody.y.unshift(snakeHeadPos.y);\r\n    }\r\n    ctx.fillStyle = \"#00FFFF\";\r\n    ctx.fillRect(\r\n      newX * blockWidth,\r\n      newY * blockHeight,\r\n      blockWidth,\r\n      blockHeight,\r\n    );\r\n  };\r\n\r\n  const drawSnakeBody = (ctx, blockWidth, blockHeight) => {\r\n    for (let i = 0; i < snakeBody.x.length; i++) {\r\n      ctx.fillStyle = \"#00FFFF\";\r\n      ctx.fillRect(\r\n        snakeBody.x[i] * blockWidth,\r\n        snakeBody.y[i] * blockHeight,\r\n        blockWidth,\r\n        blockHeight,\r\n      );\r\n    }\r\n    snakeBody.x.unshift(snakeHeadPos.x);\r\n    snakeBody.y.unshift(snakeHeadPos.y);\r\n    snakeBody.x.pop();\r\n    snakeBody.y.pop();\r\n  };\r\n\r\n  const endGame = (ctx, blockWidth, blockHeight) => {\r\n    drawBoard(ctx, blockWidth, blockHeight);\r\n    ctx.fillStyle = \"#FF0000\";\r\n    ctx.font = \"20px monospace\"; //I hate this\r\n    ctx.fillText(\"Game Over\", 5 * blockWidth, 17 * blockHeight, 500);\r\n  };\r\n  const pauseGame = (ctx, blockWidth, blockHeight) => {\r\n    drawBoard(ctx, blockWidth, blockHeight);\r\n    ctx.fillStyle = \"#FF0000\";\r\n    ctx.font = \"20px monospace\"; //I hate this\r\n    ctx.fillText(\"Paused\", 8 * blockWidth, 17 * blockHeight, 500);\r\n  };\r\n\r\n  let [frameCount, setFrameCount] = useState(0);\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    let blockWidth = context.canvas.width / cols;\r\n    let blockHeight = context.canvas.height / rows;\r\n    let animationFrameId;\r\n    if (gameState === \"Play\") {\r\n      drawBoard(context, context.canvas.width, context.canvas.height);\r\n      handleCanvasBorders(context, context.canvas.width, context.canvas.height);\r\n      drawFruit(context, blockWidth, blockHeight);\r\n      drawSnakeHead(context, blockWidth, blockHeight);\r\n      drawSnakeBody(context, blockWidth, blockHeight);\r\n      setTimeout(() => {\r\n        setFrameCount(frameCount + 1);\r\n      }, [1000 / (score / 2 + frequency)]);\r\n    } else if (gameState === \"Pause\") {\r\n      pauseGame(context, blockWidth, blockHeight);\r\n    } else if (gameState === \"End\") {\r\n      drawBoard(context, context.canvas.width, context.canvas.height);\r\n      endGame(context, blockWidth, blockHeight);\r\n    } else if (gameState === \"Restart\") {\r\n      setGameState(\"Play\");\r\n      setFrameCount(1);\r\n      setFruit(false);\r\n      setInitialPos(false);\r\n      setScore(0);\r\n      setSnakeBody({ x: [], y: [] });\r\n    }\r\n    scoreboard.time = Math.floor(frameCount / (score / 2 + frequency));\r\n    scoreboard.score = score;\r\n    scoreboard.gameState = gameState;\r\n    updateScoreboard(scoreboard);\r\n    const render = () => {\r\n      animationFrameId = window.requestAnimationFrame(render);\r\n    };\r\n    render();\r\n    return () => {\r\n      window.cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, [frameCount, gameState]);\r\n\r\n  return <canvas height=\"150\" width=\"150\" ref={canvasRef}></canvas>;\r\n};\r\nexport default Snake;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { handleCanvasBorders } from \"../../Handlers/handleCanvasBorders.js\";\r\nimport Maps from \"./Maps.json\";\r\n\r\nconst frequency = 60; //Hertz\r\nconst frameRate = 1000 / frequency; // frames / milisecond\r\nconst rows = 150;\r\nconst cols = 300;\r\nconst blockSize = 10;\r\nconst defaultInvaderOne = {\r\n    id: 1,\r\n    x: 10,\r\n    y: 10,\r\n    row: 0,\r\n    life: 1,\r\n    currSprite: 1,\r\n    totalSprites: 2,\r\n    w: 10,\r\n    h: 10,\r\n    hit: false,\r\n    color: \"green\",\r\n    sprites: {\r\n        1: [\r\n            [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\r\n            [0, 0, 1, 1, 1, 1, 1, 1, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 1, 1, 0, 1, 1, 0, 1, 1, 0],\r\n            [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],\r\n            [1, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n        ],\r\n        2: [\r\n            [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\r\n            [0, 0, 1, 1, 1, 1, 1, 1, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 0, 1, 0, 1, 1, 0, 1, 0, 0],\r\n            [0, 1, 1, 0, 1, 1, 0, 1, 1, 0],\r\n            [0, 1, 0, 0, 0, 0, 0, 0, 1, 1],\r\n        ]\r\n    }\r\n}\r\nconst defaultInvaderTwo = {\r\n    id: 2,\r\n    x: 10,\r\n    y: 10,\r\n    row: 0,\r\n    life: 2,\r\n    hit: false,\r\n    currSprite: 1,\r\n    totalSprites: 2,\r\n    w: 10,\r\n    h: 10,\r\n    color: \"red\",\r\n    sprites: {\r\n        1: [\r\n            [0, 1, 0, 0, 0, 0, 0, 0, 1, 0],\r\n            [0, 1, 1, 0, 0, 0, 0, 1, 1, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 0, 1, 1, 1, 1, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 1, 1, 0, 0, 1, 1, 1, 1],\r\n            [1, 1, 0, 0, 0, 0, 0, 0, 1, 1],\r\n            [0, 1, 1, 0, 0, 0, 0, 1, 1, 0],\r\n            [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],\r\n        ],\r\n        2: [\r\n            [0, 0, 1, 0, 0, 0, 0, 1, 0, 0],\r\n            [0, 1, 1, 0, 0, 0, 0, 1, 1, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 0, 1, 1, 1, 1, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 1, 1, 0, 0, 1, 1, 1, 1],\r\n            [1, 1, 0, 0, 0, 0, 0, 0, 1, 1],\r\n            [1, 1, 0, 0, 0, 0, 0, 0, 1, 1],\r\n            [0, 1, 1, 1, 0, 0, 1, 1, 1, 0],\r\n        ]\r\n    }\r\n}\r\nconst defaultInvaderThree = {\r\n    id: 3,\r\n    x: 10,\r\n    y: 10,\r\n    row: 0,\r\n    life: 3,\r\n    hit: false,\r\n    currSprite: 1,\r\n    totalSprites: 2,\r\n    w: 10,\r\n    h: 10,\r\n    color: \"cyan\",\r\n    sprites: {\r\n        1: [\r\n            [0, 1, 1, 0, 0, 0, 0, 1, 1, 0],\r\n            [0, 0, 1, 0, 0, 0, 0, 1, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 0, 1, 1, 1, 1, 0, 1, 1],\r\n            [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 0, 1, 1, 1, 1, 1, 1, 0, 1],\r\n            [1, 0, 1, 0, 1, 1, 0, 1, 0, 1],\r\n            [1, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n        ],\r\n        2: [\r\n            [0, 0, 1, 0, 0, 0, 0, 1, 0, 0],\r\n            [0, 0, 1, 0, 0, 0, 0, 1, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 0, 1, 1, 1, 1, 0, 1, 1],\r\n            [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 0, 1, 1, 1, 1, 1, 1, 0, 1],\r\n            [1, 0, 1, 0, 1, 1, 0, 1, 0, 1],\r\n            [1, 1, 0, 0, 0, 0, 0, 0, 1, 1],\r\n        ]\r\n    }\r\n}\r\nconst defaultBonusInvader = {\r\n    id: 8,\r\n    x: 10,\r\n    y: 10,\r\n    life: 1,\r\n    hit: false,\r\n    currSprite: 1,\r\n    totalSprites: 2,\r\n    w: 20,\r\n    h: 10,\r\n    color: \"magenta\",\r\n    sprites: {\r\n        1: [\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0],\r\n            [0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0],\r\n            [0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0],\r\n        ],\r\n        2: [\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0],\r\n            [0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0],\r\n            [0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0],\r\n\r\n        ]\r\n    }\r\n}\r\nconst defaultPlayer = {\r\n    id: 10,\r\n    x: 10,\r\n    y: 130,\r\n    speed: 2,\r\n    move: \"none\",\r\n    shooting: false,\r\n    cooling: 0,\r\n    currSprite: 1,\r\n    w: 10,\r\n    h: 10,\r\n    color: \"white\",\r\n    cooldown: 250, //milliseconds\r\n    sprites: {\r\n        1: [\r\n            [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],\r\n            [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\r\n            [0, 1, 0, 1, 1, 1, 1, 0, 1, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\r\n        ]\r\n    },\r\n}\r\nconst defaultBlock = {\r\n    id: 9,\r\n    x: 10,\r\n    y: 10,\r\n    currSprite: 1,\r\n    w: 10,\r\n    h: 10,\r\n    color: \"gray\",\r\n    sprites: {\r\n        1: [\r\n            [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\r\n            [0, 0, 1, 1, 1, 1, 1, 1, 0, 0],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n            [0, 0, 1, 1, 1, 1, 1, 1, 0, 0],\r\n            [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\r\n        ]\r\n    },\r\n}\r\nconst defaultPlayerBullet = {\r\n    id: \"player\",\r\n    x: 10,\r\n    y: 10,\r\n    h: 9,\r\n    w: 2,\r\n    speed: 5,\r\n    color: \"white\",\r\n    currSprite: 1,\r\n    totalSprites: 2,\r\n    sprites: {\r\n        1: [\r\n            [1, 1],\r\n            [1, 0],\r\n            [1, 1],\r\n            [0, 1],\r\n            [1, 1],\r\n            [1, 0],\r\n            [1, 1],\r\n            [0, 1],\r\n            [1, 1],\r\n        ],\r\n        2: [\r\n            [1, 1],\r\n            [0, 1],\r\n            [1, 1],\r\n            [1, 0],\r\n            [1, 1],\r\n            [0, 1],\r\n            [1, 1],\r\n            [1, 0],\r\n            [1, 1],\r\n        ]\r\n    }\r\n}\r\nconst defaultInvaderBullet = {\r\n    id: \"invader\",\r\n    x: 10,\r\n    y: 10,\r\n    currSprite: 1,\r\n    totalSprites: 1,\r\n    w: 2,\r\n    h: 9,\r\n    speed: 2,\r\n    color: \"yellow\",\r\n    sprites: {\r\n        1: [\r\n            [1, 1],\r\n            [1, 1],\r\n            [1, 1],\r\n            [1, 1],\r\n            [1, 1],\r\n            [1, 1],\r\n            [1, 1],\r\n            [1, 1],\r\n        ]\r\n    },\r\n}\r\n\r\nexport default function SpaceInvaders({ controls, updateScoreboard, isSelected, gameState, setGameState }) {\r\n\r\n    const canvasRef = useRef(null);\r\n    const [score, setScore] = useState(0);\r\n    const [lives, setLives] = useState(3);\r\n    const [level, setLevel] = useState(1);\r\n    const [frameCount, setFrameCount] = useState(0);\r\n    const [enemies, setEnemies] = useState(0);\r\n    const [enemyMoveParam, setEnemyMoveParam] = useState({\r\n        index: 0,\r\n        rows: [],\r\n    });\r\n    const [entities, setEntities] = useState([]);\r\n    const [bullets, setBullets] = useState([]);\r\n    const [explosions, setExplosions] = useState([]);\r\n    const explosionLifetime = 500;\r\n    //let entities = [];\r\n    //let bullets = [];\r\n    let [player, setPlayer] = useState(Object.create(defaultPlayer));\r\n    const scoreboard = { time: 0, score: 0, gameState: \"Start\" };\r\n    const invaderSpeed = 1;\r\n\r\n    //Player controls\r\n    useEffect(() => {\r\n        if (controls.pause) {\r\n            switch (gameState) {\r\n                case \"Play\":\r\n                    setGameState(\"Pause\");\r\n                    break;\r\n                case \"Pause\":\r\n                    setGameState(\"Play\");\r\n                    break;\r\n                case \"Win\":\r\n                case \"End\":\r\n                case \"Start\":\r\n                    setGameState(\"Restart\");\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        if (gameState === \"Play\") {\r\n            if (\r\n                controls.left &&\r\n                !controls.right &&\r\n                player.x + player.w > player.w\r\n            ) {\r\n                player.x = player.x - player.speed;\r\n            } else if (\r\n                controls.right &&\r\n                !controls.left &&\r\n                player.x + player.w < cols\r\n            ) {\r\n                player.x = player.x + player.speed;\r\n            } else if (controls.left && controls.right\r\n            ) {\r\n                player.move = \"none\";\r\n            } else if (!controls.left && !controls.right) {\r\n                player.move = \"none\";\r\n            }\r\n            if (controls.up &&\r\n                player.cooling === 0) {\r\n                player.shooting = true;\r\n            }\r\n        }\r\n    }, [controls, frameCount]);\r\n\r\n\r\n    //Drawing functions\r\n    const clearDraws = (ctx) => {\r\n        ctx.fillStyle = \"black\";\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    };\r\n    const drawSprite = (ctx, object) => {\r\n        if (object.hit === true) {\r\n            ctx.fillStyle = \"white\";\r\n        } else {\r\n            ctx.fillStyle = object.color;\r\n        }\r\n        for (let i = 0; i < object.sprites[object.currSprite].length; i++) {\r\n            for (let j = 0; j < object.sprites[object.currSprite][i].length; j++) {\r\n                if (object.sprites[object.currSprite][i][j] === 1) {\r\n                    ctx.fillRect(object.x + j, object.y + i, 1, 1);\r\n                }\r\n            }\r\n        }\r\n        if (object.sprites.length > 1) {\r\n            if (object.currSprite < object.sprites.length - 1) {\r\n                object.currSprite++;\r\n            } else {\r\n                object.currSprite = 1;\r\n            }\r\n        }\r\n    }\r\n    const drawExplosions = (ctx) => {\r\n        let redshift = 0;\r\n        let greenshift = 0;\r\n        let blueshift = 0;\r\n        if (explosions.length > 0) {\r\n            for (let i = 0; i < explosions.length; i++) {\r\n                if (explosions[i].decay <= explosionLifetime / 3) {\r\n                    redshift = Math.floor((explosions[i].decay) * 255 / (explosionLifetime / 3));\r\n                } else if (explosions[i].decay <= explosionLifetime * 2 / 3) {\r\n                    redshift = 255;\r\n                    greenshift = Math.floor((explosions[i].decay - explosionLifetime / 3) * 255 / (explosionLifetime / 3));\r\n                } else {\r\n                    redshift = 255;\r\n                    greenshift = 255;\r\n                    blueshift = Math.floor((explosions[i].decay - explosionLifetime * 2 / 3) * 255 / (explosionLifetime / 3));\r\n                }\r\n                ctx.fillStyle = \"rgb(\" + redshift + \",\" + greenshift + \",\" + blueshift + \")\";\r\n                let spread = 2 * explosions[i].decay / (explosionLifetime + explosions[i].decay);\r\n                let radius = explosions[i].w / 2 * spread - 10;\r\n                ctx.fillRect(explosions[i].x + radius * 2 / 3, explosions[i].y + radius * 2 / 3, 2, 2);\r\n                ctx.fillRect(explosions[i].x - radius * 2 / 3, explosions[i].y + radius * 2 / 3, 2, 2);\r\n                ctx.fillRect(explosions[i].x + radius * 2 / 3, explosions[i].y - radius * 2 / 3, 2, 2);\r\n                ctx.fillRect(explosions[i].x - radius * 2 / 3, explosions[i].y - radius * 2 / 3, 2, 2);\r\n                ctx.fillRect(explosions[i].x + radius, explosions[i].y, 2, 2);\r\n                ctx.fillRect(explosions[i].x - radius, explosions[i].y, 2, 2);\r\n                ctx.fillRect(explosions[i].x, explosions[i].y + radius, 2, 2);\r\n                ctx.fillRect(explosions[i].x, explosions[i].y - radius, 2, 2);\r\n            }\r\n\r\n        }\r\n    }\r\n    const drawGameOver = (ctx, blockWidth, blockHeight) => {\r\n        ctx.fillStyle = \"red\";\r\n        ctx.font = \"40px monospace\"; //change this nonsense static font size\r\n        ctx.fillText(\"Game Over\", 5 * blockWidth, 8 * blockHeight, 500);\r\n    };\r\n    const drawPauseGame = (ctx, blockWidth, blockHeight) => {\r\n        ctx.fillStyle = \"red\";\r\n        ctx.font = \"40px monospace\"; //and this\r\n        ctx.fillText(\"Paused\", 8 * blockWidth, 8 * blockHeight, 500);\r\n    };\r\n    const drawWinGame = (ctx, blockWidth, blockHeight) => {\r\n        clearDraws(ctx);\r\n        ctx.fillStyle = \"red\";\r\n        ctx.font = \"40px monospace\";\r\n        ctx.fillText(\"You Win\", 7 * blockWidth, 8 * blockHeight, 500);\r\n    };\r\n    const drawBottomText = (ctx, blockWidth, blockHeight) => {\r\n        ctx.fillStyle = \"red\";\r\n        ctx.font = \"10px monospace\";\r\n        ctx.fillText(\"LIFE:\" + lives, blockWidth / 2, rows - blockHeight / 4, 500);\r\n    }\r\n    const drawObjects = (context) => {\r\n        for (let i = 0; i < entities.length; i++) {\r\n            drawSprite(context, entities[i]);\r\n        }\r\n        for (let i = 0; i < bullets.length; i++) {\r\n            drawSprite(context, bullets[i]);\r\n        }\r\n        drawSprite(context, player);\r\n        drawExplosions(context);\r\n    }\r\n    //Game functions\r\n    const setUpLevel = () => {\r\n        let currEntity = {};\r\n        let newEntities = [];\r\n        let newEnemyMoveParam = { index: 0, rows: [] };\r\n        for (let i = 0; i < Maps[level].Matrix.length; i++) {\r\n            for (let j = 0; j < Maps[level].Matrix[i].length; j++) {\r\n                switch (Maps[level].Matrix[i][j]) {\r\n                    case 1:\r\n                        currEntity = Object.create(defaultInvaderOne);\r\n                        currEntity.x = j * blockSize * 1.2;\r\n                        currEntity.y = 15 + i * blockSize * 1.2;\r\n                        currEntity.row = i;\r\n                        newEntities.push(currEntity);\r\n                        if (newEnemyMoveParam.rows[i] === undefined) {\r\n                            newEnemyMoveParam.rows.push(\"right\");\r\n                        }\r\n                        break;\r\n                    case 2:\r\n                        currEntity = Object.create(defaultInvaderTwo);\r\n                        currEntity.x = j * blockSize * 1.2;\r\n                        currEntity.y = 15 + i * blockSize * 1.2;\r\n                        currEntity.row = i;\r\n                        newEntities.push(currEntity);\r\n                        if (newEnemyMoveParam.rows[i] === undefined) {\r\n                            newEnemyMoveParam.rows.push(\"right\");\r\n                        }\r\n                        break;\r\n                    case 3:\r\n                        currEntity = Object.create(defaultInvaderThree);\r\n                        currEntity.x = j * blockSize * 1.2;\r\n                        currEntity.y = 15 + i * blockSize * 1.2;\r\n                        currEntity.row = i;\r\n                        newEntities.push(currEntity);\r\n                        if (newEnemyMoveParam.rows[i] === undefined) {\r\n                            newEnemyMoveParam.rows.push(\"right\");\r\n                        }\r\n                        break;\r\n                    case 9:\r\n                        currEntity = Object.create(defaultBlock);\r\n                        currEntity.x = j * blockSize * 1.2;\r\n                        currEntity.y = 5 + i * blockSize * 1.2;\r\n                        newEntities.push(currEntity);\r\n                        break;\r\n                    case 0:\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        setEnemies(Maps[level].Enemies);\r\n        setEntities(newEntities);\r\n        setEnemyMoveParam(newEnemyMoveParam);\r\n    }\r\n    /*const playerMove = () => {\r\n        if (player.move === \"left\" &&\r\n            player.x + player.w > player.w) {\r\n            player.x = player.x - player.speed;\r\n        } else if (player.move === \"right\" &&\r\n            player.x + player.w < cols) {\r\n            player.x = player.x + player.speed;\r\n        }\r\n    }*/\r\n    const invaderMove = () => {\r\n        if (enemyMoveParam.index >= enemies) {\r\n            enemyMoveParam.index = 0;\r\n        }\r\n        switch (enemyMoveParam.rows[entities[enemyMoveParam.index].row]) {\r\n            case \"left\":\r\n                if (entities[enemyMoveParam.index].x > 2) {\r\n                    entities[enemyMoveParam.index].x = entities[enemyMoveParam.index].x - invaderSpeed;\r\n                }\r\n                else {\r\n                    enemyMoveParam.rows[entities[enemyMoveParam.index].row] = \"right\";\r\n                    entities[enemyMoveParam.index].x = entities[enemyMoveParam.index].x + invaderSpeed;\r\n                }\r\n                break;\r\n            case \"right\":\r\n                if (entities[enemyMoveParam.index].x + entities[enemyMoveParam.index].w < cols - 1) {\r\n                    entities[enemyMoveParam.index].x = entities[enemyMoveParam.index].x + invaderSpeed;\r\n                }\r\n                else {\r\n                    enemyMoveParam.rows[entities[enemyMoveParam.index].row] = \"left\";\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (entities[enemyMoveParam.index].currSprite < entities[enemyMoveParam.index].totalSprites) {\r\n            entities[enemyMoveParam.index].currSprite = entities[enemyMoveParam.index].currSprite + 1;\r\n        } else {\r\n            entities[enemyMoveParam.index].currSprite = 1;\r\n        }\r\n        enemyMoveParam.index++;\r\n        //console.log(entities[enemyMoveParam.index].sprites.length);\r\n        for (let i = 0; i < entities.length; i++) {\r\n            if (entities[i].id === 8) {\r\n                if (entities[i].x + entities[i].w > 0 && entities[i].x < cols) {\r\n                    entities[i].x = entities[i].x + entities[i].speed;\r\n                    if (entities[i].currSprite < entities[i].totalSprites) {\r\n                        entities[i].currSprite = entities[i].currSprite + 1;\r\n                    } else {\r\n                        entities[i].currSprite = 1;\r\n                    }\r\n                } else {\r\n                    entities.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        setEntities(entities);\r\n        setEnemyMoveParam(enemyMoveParam);\r\n    }\r\n    const spawnBonusInvader = () => {\r\n        let newEntity = Object.create(defaultBonusInvader);\r\n        let side = Math.random();\r\n        if (side > 0.5) {\r\n            newEntity.x = 0;\r\n            newEntity.speed = invaderSpeed;\r\n        } else {\r\n            newEntity.x = cols - newEntity.w;\r\n            newEntity.speed = -invaderSpeed;\r\n        }\r\n        newEntity.y = 2;\r\n        entities.push(newEntity);\r\n        setEntities(entities);\r\n    }\r\n    const createExplosion = (target) => {\r\n        let newExplosion = {\r\n            x: target.x + target.w / 2 - 1,\r\n            y: target.y + target.h / 2 - 1,\r\n            w: target.w,\r\n            h: target.h,\r\n            decay: explosionLifetime\r\n        }\r\n        explosions.push(newExplosion);\r\n        setExplosions(explosions);\r\n    }\r\n    const playerShooting = () => {\r\n        let newBullet = {};\r\n        if (player.shooting === true &&\r\n            player.cooling === 0) {\r\n            newBullet = Object.create(defaultPlayerBullet);\r\n            newBullet.x = player.x - 1 + player.w / 2;\r\n            newBullet.y = player.y;\r\n            bullets.push(newBullet);\r\n            player.cooling = player.cooldown;\r\n            setTimeout(() => {\r\n                player.cooling = 0;\r\n            }, [player.cooldown]);\r\n            setBullets(bullets);\r\n            player.shooting = false;\r\n        }\r\n    }\r\n    const invaderShooting = () => {\r\n        let newBullet = {};\r\n        let chance = Math.random();\r\n        let invaderShooter = Math.floor(Math.random() * enemies);\r\n        if (chance > 0.95) {\r\n            newBullet = Object.create(defaultInvaderBullet);\r\n            newBullet.x = entities[invaderShooter].x + player.w / 2;\r\n            newBullet.y = entities[invaderShooter].y;\r\n            bullets.push(newBullet);\r\n            setBullets(bullets);\r\n        }\r\n    }\r\n    const playerHit = () => {\r\n        if (lives - 1 >= 0) {\r\n            setLives(lives - 1);\r\n            createExplosion(player);\r\n        } else {\r\n            setGameState(\"End\");\r\n        }\r\n    }\r\n    const invaderHit = (invaderIndex) => {\r\n        if (entities[invaderIndex].life - 1 > 0) {\r\n            entities[invaderIndex].life = entities[invaderIndex].life - 1;\r\n            entities[invaderIndex].hit = true;\r\n            setScore(score + 5);\r\n            setTimeout(() => {\r\n                entities[invaderIndex].hit = false;\r\n            }, [player.cooldown / 2]);\r\n        } else {\r\n            createExplosion(entities[invaderIndex]);\r\n            if (entities[invaderIndex].id !== 8) {\r\n                setEnemies(enemies - 1);\r\n                setScore(score + 10);\r\n            } else {\r\n                setScore(score + 150);\r\n            }\r\n            entities.splice(invaderIndex, 1);\r\n        }\r\n        setEntities(entities);\r\n    }\r\n    const blockHit = (blockIndex) => {\r\n        createExplosion(entities[blockIndex]);\r\n        //entities.splice(blockIndex, 1);\r\n        //setEntities(entities);\r\n    }\r\n    const checkColisions = (bulletIndex) => {\r\n        let colision = false;\r\n        for (let i = 0; i < entities.length; i++) {\r\n            if (bullets[bulletIndex].id === \"player\") {\r\n                if (bullets[bulletIndex].x > entities[i].x &&\r\n                    bullets[bulletIndex].x < entities[i].x + entities[i].w &&\r\n                    bullets[bulletIndex].y > entities[i].y &&\r\n                    bullets[bulletIndex].y < entities[i].y + entities[i].h) {\r\n                    colision = true;\r\n                    if (entities[i].id === 9) {\r\n                        blockHit(i);\r\n                    } else {\r\n                        invaderHit(i);\r\n                    }\r\n                }\r\n            } else {\r\n                if (bullets[bulletIndex].x > player.x &&\r\n                    bullets[bulletIndex].x < player.x + player.w &&\r\n                    bullets[bulletIndex].y > player.y - player.h &&\r\n                    bullets[bulletIndex].y < player.y) {\r\n                    colision = true;\r\n                    playerHit();\r\n                } else if (bullets[bulletIndex].x > entities[i].x &&\r\n                    bullets[bulletIndex].x < entities[i].x + entities[i].w &&\r\n                    bullets[bulletIndex].y > entities[i].y - entities[i].h &&\r\n                    bullets[bulletIndex].y < entities[i].y &&\r\n                    entities[i].id === 9) {\r\n                    colision = true;\r\n                    blockHit(i);\r\n                }\r\n            }\r\n        }\r\n        return colision;\r\n    }\r\n    const handleBullets = () => {\r\n        let newArray = [];\r\n        if (bullets.length > 0) {\r\n            //console.log(bullets);\r\n            for (let i = 0; i < bullets.length; i++) {\r\n                if (!checkColisions(i)) {\r\n                    if (bullets[i].id === \"player\") {\r\n                        if (bullets[i].y > 0) {\r\n                            bullets[i].y -= bullets[i].speed;\r\n                            if (bullets[i].currSprite < bullets[i].totalSprites) {\r\n                                bullets[i].currSprite = bullets[i].currSprite + 1;\r\n                            } else {\r\n                                bullets[i].currSprite = 1;\r\n                            }\r\n                            newArray.push(bullets[i]);\r\n                        }\r\n                    } else {\r\n                        if (bullets[i].y < rows) {\r\n                            bullets[i].y += bullets[i].speed;\r\n                            newArray.push(bullets[i]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            setBullets(newArray);\r\n        }\r\n    }\r\n    const handleExplosions = () => {\r\n        if (explosions.length > 0) {\r\n            for (let i = 0; i < explosions.length; i++) {\r\n                if (explosions[i].decay - frameRate > 0) {\r\n                    explosions[i].decay = explosions[i].decay - frameRate;\r\n                } else {\r\n                    explosions.splice(i, 1);\r\n                }\r\n            }\r\n            setExplosions(explosions);\r\n        }\r\n    }\r\n    const handleEvents = () => {\r\n        if ((frameCount * frameRate) % (1200 * frameRate) === 0) {\r\n            spawnBonusInvader();\r\n        }\r\n        playerShooting();\r\n        invaderShooting();\r\n        handleBullets();\r\n        handleExplosions();\r\n        //playerMove();\r\n        invaderMove();\r\n    }\r\n\r\n    //Game Loop\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const context = canvas.getContext(\"2d\");\r\n        let animationFrameId;\r\n        switch (gameState) {\r\n            case \"Play\":\r\n                if (lives >= 0 && enemies > 0) {\r\n                    clearDraws(context);\r\n                    handleCanvasBorders(context, context.canvas.width, context.canvas.height);\r\n                    handleEvents();\r\n                    drawObjects(context);\r\n                    drawBottomText(context, blockSize, blockSize);\r\n                    setTimeout(() => {\r\n                        setFrameCount(frameCount + 1);\r\n                    }, [frameRate]);\r\n                }\r\n                else if (lives < 0) {\r\n                    setGameState(\"End\");\r\n                }\r\n                else if (enemies === 0) {\r\n                    setGameState(\"Win\");\r\n                }\r\n                break;\r\n            case \"Pause\":\r\n                drawPauseGame(context, blockSize, blockSize);\r\n                break;\r\n            case \"Win\":\r\n                drawWinGame(context, blockSize, blockSize);\r\n                break;\r\n            case \"End\":\r\n                drawGameOver(context, blockSize, blockSize);\r\n                break;\r\n            case \"Start\":\r\n                //setUpLevel();\r\n                break;\r\n            case \"Restart\":\r\n                setLevel(1);\r\n                setScore(0);\r\n                setLives(3);\r\n                setExplosions([]);\r\n                setBullets([]);\r\n                setUpLevel();\r\n                setPlayer(Object.create(defaultPlayer));\r\n                setFrameCount(1);\r\n                setGameState(\"Play\");\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        scoreboard.time = Math.floor(frameCount / frequency);\r\n        scoreboard.score = score;\r\n        scoreboard.gameState = gameState;\r\n        updateScoreboard(scoreboard);\r\n        const render = () => {\r\n            animationFrameId = window.requestAnimationFrame(render);\r\n        };\r\n        render();\r\n        return () => {\r\n            window.cancelAnimationFrame(animationFrameId);\r\n        };\r\n    }, [gameState, frameCount]);\r\n\r\n    return <canvas ref={canvasRef} width={300} height={150}></canvas>;\r\n}","export const handleAction = (action, setAction, appDialog, setAppDialog, args) =>{\r\n    switch (action) {\r\n        case \"Keybinds\":\r\n            args.setShowKeybindDialog(!args.showKeybindDialog);\r\n            setAction(false);\r\n            break;\r\n        case \"Play / Pause\":\r\n            if(args.gameState === \"Play\"){\r\n                args.setGameState(\"Pause\");\r\n            }else if(args.gameState === \"Pause\"){\r\n                args.setGameState(\"Play\");\r\n            }\r\n            setAction(false);\r\n            break;\r\n        case \"New\":\r\n            args.setGameState(\"Restart\");\r\n            setAction(false);\r\n            break;\r\n        case \"scoreboard\":\r\n            args.setShowScoreboard(!args.showScoreboard);\r\n            setAction(false);\r\n            break;\r\n        case \"touchscreenControls\":{\r\n            args.setShowControls(!args.showControls);\r\n            setAction(false);\r\n            break;\r\n        }\r\n        case false:\r\n            break;\r\n        default:\r\n            setAction(false);\r\n            break;\r\n    }\r\n}","export const handleTopMenu = (appMenu, setAppMenu, args) => {\r\n    //Default App Menu  \r\n    const defaultAppMenu = {\r\n        \"Game\": {\r\n            \"New Game\": {\r\n                \"action\": \"New\",\r\n                \"keybind\": \"Alt+N\",\r\n                \"disabled\": true\r\n            },\r\n            \"Play / Pause\": {\r\n                \"action\": \"Play / Pause\",\r\n                \"keybind\": \"P\",\r\n                \"disabled\": true\r\n            },\r\n            \"LineBreak1\":{},\r\n            \"Keybinds\": {\r\n                \"action\": \"Keybinds\",\r\n                \"disabled\": false\r\n            },\r\n            \"LineBreak2\":{},\r\n            \"Close\": {\r\n                \"action\": \"Close\",\r\n                \"keybind\": \"Alt+Shift+F4\",\r\n                \"disabled\": false\r\n            }\r\n        },\r\n        \"View\": {\r\n            \"Scoreboard\": {\r\n                \"action\": \"scoreboard\",\r\n                \"checkbox\": true,\r\n                \"disabled\": false\r\n            },\r\n            \"Touchscreen Controls\": {\r\n                \"action\": \"touchscreenControls\",\r\n                \"checkbox\": true,\r\n                \"disabled\": false\r\n            }\r\n        },\r\n        \"Help\": {\r\n            \"Help\": {\r\n                \"action\": \"help\",\r\n                \"keybind\": \"F1\",\r\n                \"disabled\": true,\r\n                \"title\": \"Not Implemented\"\r\n            },\r\n            \"About\": {\r\n                \"action\": \"about\",\r\n                \"disabled\": true,\r\n                \"title\": \"Not Implemented\"\r\n            }\r\n        }\r\n    }\r\n    if (appMenu === null) {\r\n        setAppMenu(defaultAppMenu);\r\n    }\r\n    else {\r\n        let updatedAppMenu = { \r\n            ...appMenu,\r\n                    \"Game\": {\r\n                        ...appMenu[\"Game\"],\r\n                        \"New Game\": {\r\n                            ...appMenu[\"Game\"][\"New Game\"],\r\n                            \"disabled\": !args.gameChoice\r\n                        },\r\n                        \"Play / Pause\": {\r\n                            ...appMenu[\"Game\"][\"Play / Pause\"],\r\n                            \"disabled\": !args.gameChoice\r\n                        }\r\n                    },\r\n                    \"View\": {\r\n                        ...appMenu[\"View\"],\r\n                        \"Scoreboard\": {\r\n                            ...appMenu[\"View\"][\"Scoreboard\"],\r\n                            \"checkbox\": args.showScoreboard\r\n                        },\r\n                        \"Touchscreen Controls\": {\r\n                            ...appMenu[\"View\"][\"Touchscreen Controls\"],\r\n                            \"checkbox\": args.showControls\r\n                        }\r\n                    }\r\n         };\r\n        setAppMenu(updatedAppMenu);\r\n    }\r\n}","import { useState, useEffect } from \"react\";\r\nexport const KeybindDialog = ({ showKeybindDialog, setShowKeybindDialog, setAppDialog, keyboard, setKeyboard }) => {\r\n    const [newKeybinds, setNewKeybinds] = useState(structuredClone(keyboard));\r\n    const [keybindState, setKeybindState] = useState(\"\");\r\n    const [update, setUpdate] = useState(0);\r\n    const title = \"Keybinds\";\r\n    \r\n    const addNewKeybind = (key) => {\r\n        setKeybindState(\"Press new key...\");\r\n        const keyPromise = new Promise((resolve, reject) => {\r\n            document.addEventListener(\"keydown\", (e) => resolve(e.key));\r\n            setTimeout(() => {\r\n                document.removeEventListener(\"keydown\", (e) => resolve(e.key));\r\n                reject(\"timeout\");\r\n            }, 10000);\r\n        });\r\n        keyPromise.then((value) => {\r\n            newKeybinds[key].keys[newKeybinds[key].keys.length] = value;\r\n            setNewKeybinds(newKeybinds);\r\n            setKeybindState(\"\");\r\n        }).catch((error) => {\r\n            setKeybindState(error);\r\n        });\r\n    };\r\n    const changeKeybind = (key, index) => {\r\n        setKeybindState(\"Press new key...\");\r\n        const keyPromise = new Promise((resolve, reject) => {\r\n            document.addEventListener(\"keydown\", (e) => resolve(e.key));\r\n            setTimeout(() => {\r\n                document.removeEventListener(\"keydown\", (e) => resolve(e.key));\r\n                reject(\"timeout\");\r\n            }, 10000);\r\n        });\r\n        keyPromise.then((value) => {\r\n            newKeybinds[key].keys[index] = value;\r\n            setNewKeybinds(newKeybinds);\r\n            setKeybindState(\"\");\r\n        }).catch((error) => {\r\n            setKeybindState(error);\r\n        });\r\n    };\r\n    const removeKeybind = (key, index) => {\r\n        newKeybinds[key].keys.splice(index, 1);\r\n        setNewKeybinds(newKeybinds);\r\n        setUpdate(update + 1);\r\n    };\r\n    const info =\r\n        <div>\r\n            {Object.keys(newKeybinds).map((key) => (\r\n                <div key={key} style={{ display: \"flex\", flexDirection: \"row\", width: \"100%\", marginLeft: \"5px\" }}>\r\n                    <div style={{ width: \"55px\", height:\"30px\", display: \"flex\", justifyContent: \"start\", alignItems: \"center\", textAlign: \"center\" }}><b>{key}:</b></div>\r\n                    {newKeybinds[key].keys.map((keybind, index) =>\r\n                        <button\r\n                            key={key}\r\n                            style={{ width: \"75px\", height:\"30px\", border: \"1px solid dimgray\"}}\r\n                            onContextMenu={(e) => removeKeybind(key, index)}\r\n                            onClick={() => changeKeybind(key, index)}\r\n                        >{keybind}</button>\r\n                    )}\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                        {newKeybinds[key].keys.length < 3 &&\r\n                            <button onClick={() => addNewKeybind(key)}>+</button>}\r\n                    </div>\r\n                </div>\r\n            ))}\r\n            {keybindState}\r\n        </div>;\r\n\r\n    const actions = {\r\n        Confirm: () => {\r\n            setKeyboard(newKeybinds);\r\n            setShowKeybindDialog(false);\r\n            setAppDialog(null);\r\n        },\r\n        Reset: () => {\r\n            setNewKeybinds(keyboard);\r\n            setUpdate(update + 1);\r\n        },\r\n        Cancel: () => {\r\n            setNewKeybinds(keyboard);\r\n            setShowKeybindDialog(false);\r\n            setAppDialog(null);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        if (showKeybindDialog) {\r\n            setAppDialog({ title: title, info: info, actions: actions });\r\n        }\r\n    }, [showKeybindDialog, newKeybinds, keybindState, update]);\r\n    return <></>;\r\n}","import React, { useEffect, useState, useRef } from \"react\";\r\nimport {\r\n  FaArrowLeft,\r\n  FaArrowRight,\r\n  FaArrowUp,\r\n  FaArrowDown,\r\n} from \"react-icons/fa\";\r\nimport { BsFillPlayFill, BsPauseFill } from \"react-icons/bs\";\r\nimport Controls from \"./Controls/Keyboard.js\";\r\nimport Breakout from \"./Games/Breakout/Breakout.js\";\r\nimport Snake from \"./Games/Snake/Snake.js\";\r\nimport SpaceInvaders from \"./Games/Space Invaders/SpaceInvaders.js\";\r\nimport { handleAction } from \"./Handlers/handleAction.js\";\r\nimport { handleTopMenu } from \"./Handlers/handleTopMenu.js\";\r\nimport { KeybindDialog } from \"./Components/KeybindDialog.jsx\";\r\nimport \"./style.css\";\r\n\r\nexport default function Arcade({ isSelected, action, setAction, appMenu, setAppMenu, appDialog, setAppDialog, contextMenu }) {\r\n  const canvasContainer = useRef();\r\n  const [keyboard, setKeyboard] = useState({\r\n    up: { keys: [\"w\", \"W\", \"ArrowUp\"], active: true },\r\n    down: { keys: [\"s\", \"S\", \"ArrowDown\"], active: true },\r\n    left: { keys: [\"a\", \"A\", \"ArrowLeft\"], active: true },\r\n    right: { keys: [\"d\", \"D\", \"ArrowRight\"], active: true },\r\n    one: { keys: [\"1\"], active: false },\r\n    two: { keys: [\"2\"], active: false },\r\n    pause: { keys: [\"p\", \"P\", \"Pause\"], active: true },\r\n  });\r\n  const controls = Controls(isSelected, keyboard);\r\n  const [gameState, setGameState] = useState(\"Start\");\r\n  const [gameChoice, setGameChoice] = useState(\"None\");\r\n  const [playButtonFlag, setPlayButtonFlag] = useState(true);\r\n  const [showControls, setShowControls] = useState(true);\r\n  const [showScoreboard, setShowScoreboard] = useState(true);\r\n  const [showKeybindDialog, setShowKeybindDialog] = useState(false);\r\n  const [scoreboard, setScoreboard] = useState({\r\n    time: 0,\r\n    score: 0,\r\n    gameState: \"Start\",\r\n  });\r\n  const updateScoreboard = (scoreboard) => {\r\n    setScoreboard(scoreboard);\r\n  };\r\n\r\n  const handleScreenButton = (key, state, repeat) => {\r\n    document.dispatchEvent(new KeyboardEvent(state, { key: keyboard[key].keys[0], repeat: repeat }),)\r\n  };\r\n\r\n  const handleContextMenu = (event, target) => {\r\n    let content = {};\r\n    event.preventDefault();\r\n    if (target === \"keypad\") {\r\n      content = {\r\n        \"Hide\": {action: () => { setShowControls(false);} },\r\n      }\r\n    } else if (target === \"scoreboard\") {\r\n      content = {\r\n        \"Hide\": {action: () => { setShowScoreboard(false);} },\r\n      }\r\n    } else if (target === \"canvas\") {\r\n      if (gameChoice !== \"None\") {\r\n        let playpause = gameState === \"Play\" ? \"Pause\" : \"Play\";\r\n        content = {\r\n          \"Play/Pause\": {action: () => { setGameState(playpause);} },\r\n          \"New Game\": {action: () => { setGameState(\"Restart\");} },\r\n        }\r\n      }\r\n    }\r\n    contextMenu.setOpen();\r\n    contextMenu.setPosition(event.clientX, event.clientY);\r\n    contextMenu.setContent(content);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (gameState === \"Play\") {\r\n      setPlayButtonFlag(false);\r\n    } else {\r\n      setPlayButtonFlag(true);\r\n    }\r\n  }, [gameState]);\r\n\r\n  useEffect(() => {\r\n    const args = {\r\n      gameState: gameState,\r\n      setGameState: setGameState,\r\n      showControls: showControls,\r\n      setShowControls: setShowControls,\r\n      showScoreboard: showScoreboard,\r\n      setShowScoreboard: setShowScoreboard,\r\n      showKeybindDialog: showKeybindDialog, \r\n      setShowKeybindDialog: setShowKeybindDialog\r\n    }\r\n    handleAction(action, setAction, appDialog, setAppDialog, args);\r\n  }, [action]);\r\n\r\n  useEffect(() => {\r\n    const args = {\r\n      gameState: gameState,\r\n      showControls: showControls,\r\n      showScoreboard: showScoreboard,\r\n      gameChoice: gameChoice\r\n    };\r\n    handleTopMenu(appMenu, setAppMenu, args);\r\n  }, [gameState, gameChoice, showControls, showScoreboard]);\r\n\r\n  return (\r\n    <div id=\"arcadeContainer\">\r\n      <select\r\n        id=\"gameMenu\"\r\n        onChange={(e) => {\r\n          setGameChoice(e.target.value);\r\n          setGameState(\"Start\");\r\n        }}\r\n      >\r\n        <option value=\"None\" >Select Game</option>\r\n        <option value=\"Snake\">Snake</option>\r\n        <option value=\"Breakout\">Breakout</option>\r\n        <option value=\"Space Invaders\">Space Invaders</option>\r\n      </select>\r\n      {showScoreboard &&\r\n        <div id=\"arcadeScoreboard\"\r\n          onContextMenu={(e) => handleContextMenu(e, \"scoreboard\")}\r\n        >\r\n          <div id=\"arcadeScore\">\r\n            Time: {scoreboard.time} seconds\r\n            <br />\r\n            Score: {scoreboard.score}\r\n            <br />\r\n          </div>\r\n          <div\r\n            id=\"arcadePlayButton\"\r\n            className=\"arcadeButton\"\r\n            onClick={() => {\r\n              handleScreenButton(\"pause\", \"keydown\", false);\r\n              setTimeout(() => handleScreenButton(\"pause\", \"keyup\", false), 50);\r\n            }}\r\n          >\r\n            {playButtonFlag ? <BsFillPlayFill /> : <BsPauseFill />}\r\n          </div>\r\n        </div>}\r\n      <div\r\n        id=\"arcadeCanvasContainer\"\r\n        ref={canvasContainer}\r\n        onContextMenu={(e) => handleContextMenu(e, \"canvas\")}\r\n      >\r\n        {gameChoice === \"Snake\" ? (\r\n          <Snake controls={controls} updateScoreboard={updateScoreboard} isSelected={isSelected} gameState={gameState} setGameState={setGameState} />\r\n        ) : gameChoice === \"Breakout\" ? (\r\n          <Breakout controls={controls} updateScoreboard={updateScoreboard} isSelected={isSelected} gameState={gameState} setGameState={setGameState} />\r\n        ) :\r\n          gameChoice === \"Space Invaders\" ? (\r\n            <SpaceInvaders controls={controls} updateScoreboard={updateScoreboard} isSelected={isSelected} gameState={gameState} setGameState={setGameState} />\r\n          ) : (\r\n            <></>\r\n          )}\r\n      </div>\r\n      {showControls &&\r\n        <div id=\"arcadeControls\"\r\n          onContextMenu={(e) => handleContextMenu(e, \"keypad\")}\r\n        >\r\n          <div\r\n            id=\"arcadeLeftButton\"\r\n            className={controls.left ? \"arcadeButton arcadeButtonOn\" : \"arcadeButton\"}\r\n            onMouseDown={() => handleScreenButton(\"left\", \"keydown\", true)}\r\n            onMouseUp={() => handleScreenButton(\"left\", \"keyup\", true)}\r\n            onTouchStart={() => handleScreenButton(\"left\", \"keyup\", true)}\r\n            onTouchEnd={() => handleScreenButton(\"left\", \"keyup\", true)}\r\n          >\r\n            <FaArrowLeft />\r\n          </div>\r\n          <div id=\"arcadeVerticalControls\">\r\n            <div\r\n              id=\"arcadeUpButton\"\r\n              className={controls.up ? \"arcadeButton arcadeButtonOn\" : \"arcadeButton\"}\r\n              onMouseDown={() => handleScreenButton(\"up\", \"keydown\", true)}\r\n              onMouseUp={() => handleScreenButton(\"up\", \"keyup\", true)}\r\n              onTouchStart={() => handleScreenButton(\"up\", \"keyup\", true)}\r\n              onTouchEnd={() => handleScreenButton(\"up\", \"keyup\", true)}\r\n            >\r\n              <FaArrowUp />\r\n            </div>\r\n            <div\r\n              id=\"arcadeDownButton\"\r\n              className={controls.down ? \"arcadeButton arcadeButtonOn\" : \"arcadeButton\"}\r\n              onMouseDown={() => handleScreenButton(\"down\", \"keydown\", true)}\r\n              onMouseUp={() => handleScreenButton(\"down\", \"keyup\", true)}\r\n              onTouchStart={() => handleScreenButton(\"down\", \"keyup\", true)}\r\n              onTouchEnd={() => handleScreenButton(\"down\", \"keyup\", true)}\r\n            >\r\n              <FaArrowDown />\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"arcadeRightButton\"\r\n            className={controls.right ? \"arcadeButton arcadeButtonOn\" : \"arcadeButton\"}\r\n            onMouseDown={() => handleScreenButton(\"right\", \"keydown\", true)}\r\n            onMouseUp={() => handleScreenButton(\"right\", \"keyup\", true)}\r\n            onTouchStart={() => handleScreenButton(\"right\", \"keyup\", true)}\r\n            onTouchEnd={() => handleScreenButton(\"right\", \"keyup\", true)}\r\n          >\r\n            <FaArrowRight />\r\n          </div>\r\n        </div>}\r\n        <KeybindDialog\r\n          showKeybindDialog={showKeybindDialog}\r\n          setShowKeybindDialog={setShowKeybindDialog}\r\n          setAppDialog={setAppDialog}\r\n          keyboard={keyboard}\r\n          setKeyboard={setKeyboard}\r\n          />\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect, useCallback } from \"react\";\r\n\r\nexport default function Controls(isSelected, keyboard) {\r\n\r\n  var [command, setCommand] = useState({\r\n    up: false,\r\n    down: false,\r\n    left: false,\r\n    right: false,\r\n    one: false,\r\n    two: false,\r\n    pause: false,\r\n  });\r\n  const validateKey = useCallback(\r\n    (key, state) => {\r\n      const keyArray = Object.keys(keyboard);\r\n      for (let i = 0; i < keyArray.length; i++) {\r\n        let currKeyArray = keyboard[keyArray[i]].keys;\r\n        for (let j = 0; j < currKeyArray.length; j++) {\r\n          if (currKeyArray[j] === key) {\r\n            setCommand((c) => ({ ...c, [keyArray[i]]: state }));\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [keyboard],\r\n  );\r\n\r\n  const handleKeyPress = useCallback(\r\n    (event) => {\r\n      validateKey(event.key, true);\r\n    },\r\n    [validateKey],\r\n  );\r\n  const handleKeyRelease = useCallback(\r\n    (event) => {\r\n      validateKey(event.key, false);\r\n    },\r\n    [validateKey],\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyPress);\r\n    document.addEventListener(\"keyup\", handleKeyRelease);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeyPress);\r\n      document.removeEventListener(\"keyup\", handleKeyRelease);\r\n    };\r\n  }, [handleKeyPress, handleKeyRelease]);\r\n\r\n  useEffect(() => {\r\n    if (!isSelected) {\r\n      setCommand({ ...command, pause: true });\r\n    }\r\n  }, [isSelected]);\r\n\r\n  return command;\r\n}\r\n"],"names":["handleCanvasBorders","ctx","width","height","fillStyle","fillRect","frequency","frameRate","rows","cols","defaultPlayerBar","x","y","w","defaultBall","r","dirX","dirY","defaultFirework","t","color","Breakout","_ref","controls","updateScoreboard","isSelected","gameState","setGameState","canvasRef","useRef","Maps","setMaps","useState","JSON","parse","stringify","LevelsJSON","gameLevel","setGameLevel","currLevel","setCurrLevel","levelHealth","setLevelHealth","Bars","frameCount","setFrameCount","winFrameCount","setWinFrameCount","playerBar","setPlayerBar","Object","create","ball","setBall","firework1","firework2","firework3","firework4","firework5","firework6","firework7","scoreboard","time","score","setScore","useEffect","pause","left","right","clearDraws","canvas","drawFirework","blockWidth","blockHeight","currBall","i","scale","beginPath","arc","Math","cos","PI","sin","fill","closePath","drawLevelUp","font","fillText","drawPlayerBar","newX","newY","drawHitbar","obj","h","drawLevel","Matrix","barHit","bar","s","checkColision","drawBall","context","current","getContext","animationFrameId","setTimeout","drawPauseGame","drawGameOver","drawWinGame","handleFireworks","currFirework","floor","random","render","window","requestAnimationFrame","cancelAnimationFrame","_jsx","ref","fruit","setFruit","fruitPos","snakeHeadPos","direction","previousDir","setPreviousDir","snakeBody","setSnakeBody","initialPos","setInitialPos","undefined","up","down","drawBoard","canvasWidth","canvasHeight","drawFruit","overlapX","overlapY","length","flagX","flagY","drawSnakeHead","unshift","drawSnakeBody","pop","pauseGame","endGame","blockSize","defaultInvaderOne","id","row","life","currSprite","totalSprites","hit","sprites","defaultInvaderTwo","defaultInvaderThree","defaultBonusInvader","defaultPlayer","speed","move","shooting","cooling","cooldown","defaultBlock","defaultPlayerBullet","defaultInvaderBullet","SpaceInvaders","lives","setLives","level","setLevel","enemies","setEnemies","enemyMoveParam","setEnemyMoveParam","index","entities","setEntities","bullets","setBullets","explosions","setExplosions","explosionLifetime","player","setPlayer","drawSprite","object","j","drawObjects","redshift","greenshift","blueshift","decay","spread","radius","drawExplosions","createExplosion","target","newExplosion","push","invaderHit","invaderIndex","splice","blockHit","blockIndex","checkColisions","bulletIndex","colision","handleEvents","spawnBonusInvader","newEntity","playerShooting","newBullet","invaderShooting","chance","invaderShooter","handleBullets","newArray","handleExplosions","invaderMove","setUpLevel","currEntity","newEntities","newEnemyMoveParam","Enemies","drawBottomText","handleAction","action","setAction","appDialog","setAppDialog","args","setShowKeybindDialog","showKeybindDialog","setShowScoreboard","showScoreboard","setShowControls","showControls","handleTopMenu","appMenu","setAppMenu","gameChoice","KeybindDialog","keyboard","setKeyboard","newKeybinds","setNewKeybinds","structuredClone","keybindState","setKeybindState","update","setUpdate","info","_jsxs","children","keys","map","key","style","display","flexDirection","marginLeft","justifyContent","alignItems","textAlign","keybind","border","onContextMenu","e","removeKeybind","onClick","changeKeybind","Promise","resolve","reject","document","addEventListener","removeEventListener","then","value","catch","error","addNewKeybind","actions","Confirm","Reset","Cancel","title","_Fragment","Arcade","contextMenu","canvasContainer","active","one","two","command","setCommand","validateKey","useCallback","state","keyArray","currKeyArray","c","handleKeyPress","event","handleKeyRelease","Controls","setGameChoice","playButtonFlag","setPlayButtonFlag","setScoreboard","handleScreenButton","repeat","dispatchEvent","KeyboardEvent","handleContextMenu","content","preventDefault","playpause","setOpen","setPosition","clientX","clientY","setContent","onChange","className","BsFillPlayFill","BsPauseFill","Snake","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","FaArrowLeft","FaArrowUp","FaArrowDown","FaArrowRight"],"sourceRoot":""}