"use strict";(self.webpackChunkpc=self.webpackChunkpc||[]).push([[6682],{4557:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var A=a(5043),o=a(184),n=a(1462);const s="data:image/png;base64,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",r="data:image/png;base64,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",c=a.p+"static/media/SpaceInvadersSplash.ba241013f420dc32346d.png";var i=a(579);function l(e){let{controls:t,setGameState:a,setGameChoice:o}=e;const[n,l]=(0,A.useState)(0),d={Snake:s,Breakout:r,"Space Invaders":c};return(0,A.useEffect)((()=>{t.down&&n<Object.keys(d).length-1?l(n+1):t.up&&n>0?l(n-1):(t.one||t.pause)&&(a("Start"),o(Object.keys(d)[n]))}),[t]),(0,i.jsx)("div",{children:(0,i.jsxs)("object",{id:"arcadeMainMenu",width:600,height:400,children:[(0,i.jsx)("div",{id:"arcadeSplashScreen",children:Object.keys(d).map(((e,t)=>t===n&&(0,i.jsx)("img",{src:d[e]},t)))}),(0,i.jsx)("div",{id:"arcadeGameList",children:Object.keys(d).map(((e,t)=>(0,i.jsx)("div",{style:t===n?{background:"deepskyblue",color:"black"}:{background:"black",color:"white"},onClick:()=>l(t),children:e},t)))})]})})}const d=JSON.parse('[{"Level":0,"Bars":15,"Matrix":[{"x":1,"y":2,"w":4,"h":3,"s":1},{"x":7,"y":2,"w":4,"h":3,"s":1},{"x":13,"y":2,"w":4,"h":3,"s":1},{"x":19,"y":2,"w":4,"h":3,"s":1},{"x":25,"y":2,"w":4,"h":3,"s":1},{"x":1,"y":6,"w":4,"h":3,"s":1},{"x":7,"y":6,"w":4,"h":3,"s":1},{"x":13,"y":6,"w":4,"h":3,"s":1},{"x":19,"y":6,"w":4,"h":3,"s":1},{"x":25,"y":6,"w":4,"h":3,"s":1},{"x":1,"y":10,"w":4,"h":3,"s":1},{"x":7,"y":10,"w":4,"h":3,"s":1},{"x":13,"y":10,"w":4,"h":3,"s":1},{"x":19,"y":10,"w":4,"h":3,"s":1},{"x":25,"y":10,"w":4,"h":3,"s":1}]},{"Level":1,"Bars":15,"Matrix":[{"x":0,"y":2,"w":4,"h":3,"s":1},{"x":7,"y":3,"w":2,"h":3,"s":1},{"x":14,"y":2,"w":2,"h":3,"s":1},{"x":21,"y":3,"w":2,"h":3,"s":1},{"x":26,"y":2,"w":4,"h":3,"s":1},{"x":0,"y":6,"w":4,"h":3,"s":1},{"x":7,"y":7,"w":2,"h":3,"s":1},{"x":14,"y":6,"w":2,"h":3,"s":1},{"x":21,"y":7,"w":2,"h":3,"s":1},{"x":26,"y":6,"w":4,"h":3,"s":1},{"x":0,"y":10,"w":4,"h":3,"s":1},{"x":7,"y":11,"w":2,"h":3,"s":1},{"x":14,"y":10,"w":2,"h":3,"s":1},{"x":21,"y":11,"w":2,"h":3,"s":1},{"x":26,"y":10,"w":4,"h":3,"s":1}]},{"Level":2,"Bars":15,"Matrix":[{"x":0,"y":2,"w":2,"h":3,"s":1},{"x":7,"y":4,"w":2,"h":3,"s":1},{"x":14,"y":2,"w":2,"h":3,"s":1},{"x":21,"y":4,"w":2,"h":3,"s":1},{"x":26,"y":2,"w":2,"h":3,"s":1},{"x":0,"y":6,"w":2,"h":3,"s":1},{"x":7,"y":7,"w":2,"h":3,"s":1},{"x":14,"y":6,"w":2,"h":3,"s":1},{"x":21,"y":7,"w":2,"h":3,"s":1},{"x":26,"y":6,"w":2,"h":3,"s":1},{"x":0,"y":16,"w":2,"h":3,"s":1},{"x":7,"y":11,"w":2,"h":3,"s":1},{"x":14,"y":16,"w":2,"h":3,"s":1},{"x":21,"y":11,"w":2,"h":3,"s":1},{"x":26,"y":16,"w":2,"h":3,"s":1}]},{"Level":3,"Bars":0,"Matrix":[]}]'),h=(e,t,a)=>{e.fillStyle="silver",e.fillRect(0,0,t,1),e.fillRect(0,0,1,a),e.fillRect(t-1,0,1,a),e.fillRect(0,a-1,t,1)},u=60,y=1e3/u,f=30,x=30,w={x:12,y:27,w:6,speed:.25},S={x:15,y:50,r:.5,dirX:.25,dirY:-.25},E={x:15,y:52,r:.25,dirX:0,dirY:-.25,t:-5,color:""};function B(e){let{controls:t,isSelected:a,gameState:o,setGameState:n}=e;const s=(0,A.useRef)(null),[r,c]=(0,A.useState)(JSON.parse(JSON.stringify(d))),[l,B]=(0,A.useState)(0),[p,g]=(0,A.useState)(r[l]),[v,m]=(0,A.useState)(p.Bars),[Q,k]=(0,A.useState)(0),[U,C]=(0,A.useState)(0);let[T,b]=(0,A.useState)(Object.create(w)),[R,I]=(0,A.useState)(Object.create(S)),[D]=(0,A.useState)(Object.create(E));D.color="blue";let[P]=(0,A.useState)(Object.create(E));P.color="green";let[N]=(0,A.useState)(Object.create(E));N.color="red";let[J]=(0,A.useState)(Object.create(E));J.color="yellow";let[M]=(0,A.useState)(Object.create(E));M.color="cyan";let[O]=(0,A.useState)(Object.create(E));O.color="magenta";let[j]=(0,A.useState)(Object.create(E));j.color="white";let[V,F]=(0,A.useState)(0),[q,G]=(0,A.useState)(0);const[z,K]=(0,A.useState)(0);(0,A.useEffect)((()=>{t.pause&&("Play"===o?n("Pause"):"Pause"===o?n("Play"):"Win"!==o&&"End"!==o&&"Start"!==o||n("Restart"))}),[t]),(0,A.useEffect)((()=>{t.left&&!t.right&&T.x+T.w>T.w&&(T.x=T.x-T.speed),t.right&&!t.left&&T.x+T.w<x&&(T.x=T.x+T.speed)}),[t,Q]),(0,A.useEffect)((()=>{"Restart"===o?G(0):"Play"===o?K(performance.now()):"Pause"!==o&&"End"!==o&&"Win"!==o&&"LevelUp"!==o||(G(q+performance.now()-z),q+=performance.now()-z)}),[o]);const X=e=>{e.fillStyle="black",e.fillRect(0,0,e.canvas.width,e.canvas.height)},Y=(e,t,a,A)=>{for(let o=0;o<12;o++)e.fillStyle=A.color,e.scale(1,.5),e.beginPath(),e.arc(A.x*t+Math.cos(2*Math.PI/12*o)*A.t*2*t,A.y*a+2*Math.sin(2*Math.PI/12*o)*A.t*2*a,A.r/1*t,0,2*Math.PI),e.fill(),e.closePath(),e.scale(1,2)},Z=(e,t,a,A)=>{switch(X(e),e.fillStyle="red",e.font="40px monospace",A){case 4:default:e.fillText("Next Level",5*t,17*a,500);break;case 3:e.fillText("3 sec",9*t,17*a,500);break;case 2:e.fillText("2 sec",9*t,17*a,500);break;case 1:e.fillText("1 sec",9*t,17*a,500)}},H=(e,t,a)=>{let A,o;A=T.x,o=T.y,e.fillStyle="cyan",e.fillRect(A*t,o*a,T.w*t,a)},L=(e,t,a,A)=>{let o;switch(A.h){case 3:o="green";break;case 2:o="yellow";break;case 1:o="orange";break;default:o="blue"}e.fillStyle=o,e.fillRect(A.x*t,A.y*a,A.w*t,a)},W=(e,t,a)=>{for(let A=0;A<p.Bars;A++)p.Matrix[A].h>0&&L(e,t,a,p.Matrix[A])},$=e=>{e.h-1>=0&&(e.h=e.h-1,V+=e.s,F(V)),0===e.h&&(m(v-1),v-1===0&&n("LevelUp"))},_=e=>{let t;0!==e.x&&e.x!==x||(e.dirX=-e.dirX),0===e.y?e.dirY=-e.dirY:e.y===2*f&&n("End"),e.y+e.r===2*T.y&&e.x>=T.x&&e.x<=T.x+T.w&&(e.dirY=-e.dirY);for(let a=0;a<p.Bars;a++)t=p.Matrix[a],t.h>0&&e.x+e.r>=t.x&&e.x-e.r<=t.x+t.w&&e.y+e.r>=2*t.y&&e.y-e.r<=2*(t.y+1)&&(e.x+e.r>t.x&&e.x-e.r<t.x+t.w&&(e.dirY=-e.dirY,$(t)),e.y+e.r>2*t.y&&e.y-e.r<2*(t.y+1)&&(e.dirX=-e.dirX,$(t)))},ee=(e,t,a,A)=>{e.fillStyle="#FFFFFF",e.scale(1,.5),e.beginPath(),e.arc(A.x*t,A.y*a,A.r*t,0,2*Math.PI),e.fill(),e.closePath(),e.scale(1,2)};return(0,A.useEffect)((()=>{const e=s.current.getContext("2d");let t,a=e.canvas.width/x,A=e.canvas.height/f;switch(o){case"Start":c(JSON.parse(JSON.stringify(d))),B(0),g(r[l]),m(p.Bars),I(Object.create(S)),b(Object.create(w)),F(0),k(1),X(e),((e,t,a)=>{X(e),e.fillStyle="#FF0000",e.font="24px monospace",e.fillText("Press Play to Start",2.5*t,15*a,500)})(e,a,A),h(e,e.canvas.width,e.canvas.height);break;case"Play":X(e),h(e,e.canvas.width,e.canvas.height),H(e,a,A),W(e,a,A),R.x=R.x+R.dirX,R.y=R.y+R.dirY,_(R),ee(e,a,A,R),setTimeout((()=>{k(Q+1)}),[y]);break;case"Pause":((e,t,a)=>{e.fillStyle="red",e.font="40px monospace",e.fillText("Paused",8*t,17*a,500)})(e,a,A);break;case"End":X(e),((e,t,a)=>{e.fillStyle="red",e.font="40px monospace",e.fillText("Game Over",5*t,9*a,500),e.font="16px monospace",e.fillText("Score: "+V,11*t,13*a,500),e.fillText("Time: "+Math.floor(q/1e3),11*t,17*a,500),e.fillText("Level: "+(l+1),11*t,21*a,500),e.font="12px monospace",e.fillText("Press Play to Restart",8*t,26*a,500)})(e,a,A),h(e,e.canvas.width,e.canvas.height);break;case"Restart":c(JSON.parse(JSON.stringify(d))),B(0),g(r[l]),m(p.Bars),I(Object.create(S)),b(Object.create(w)),F(0),k(1),n("Play");break;case"LevelUp":l+1===3?n("Win"):(Z(e,a,A,4),setTimeout((()=>{X(e),Z(e,a,A,3)}),[1e3]),setTimeout((()=>{Z(e,a,A,2)}),[2e3]),setTimeout((()=>{Z(e,a,A,1)}),[3e3]),setTimeout((()=>{B(l+1),g(r[l+1]),m(p.Bars),I(Object.create(S)),X(e),W(e,a,A),n("Play")}),[4e3]));break;case"Win":g(r[3]),X(e),H(e,a,A),((e,t,a)=>{let A;for(let o=0;o<=6;o++){switch(o){case 0:A=D;break;case 1:A=P;break;case 2:A=N;break;case 3:A=J;break;case 4:A=M;break;case 5:A=O;break;case 6:A=j}A.t<=-5?(A.t=Math.floor(4*Math.random())+1,A.x=T.x+T.w/2,A.y=52,A.dirX=(Math.random()-.5)/8,A.dirY=-.25):A.t>3?A.t=A.t-1/u:A.t>0?(A.x=A.x+A.dirX,A.y=A.y+A.dirY,_(A),ee(e,t,a,A),A.t=A.t-1/u):A.t>-5&&(Y(e,t,a,A),A.t=A.t-1/u)}})(e,a,A),((e,t,a)=>{e.fillStyle="red",e.font="40px monospace",e.fillText("You Win",7*t,9*a,500),e.font="16px monospace",e.fillText("Score: "+V,11*t,15*a,500),e.fillText("Time: "+Math.floor(q/1e3),11*t,19*a,500),e.font="12px monospace",e.fillText("Press Play to Restart",8*t,26*a,500)})(e,a,A),h(e,e.canvas.width,e.canvas.height),setTimeout((()=>{C(U+1)}),[y]);break;default:X(e)}const i=()=>{t=window.requestAnimationFrame(i)};return i(),()=>{window.cancelAnimationFrame(t)}}),[Q,U,o]),(0,i.jsx)("canvas",{ref:s,onTouchStart:e=>e.preventDefault(),onTouchMove:e=>e.preventDefault(),onTouchEnd:e=>e.preventDefault(),onTouchCancel:e=>e.preventDefault()})}const p=e=>{let{controls:t,isSelected:a,gameState:o,setGameState:n}=e;let s=(0,A.useRef)(null),[r,c]=(0,A.useState)(!1),[l]=(0,A.useState)({x:0,y:0}),[d,u]=(0,A.useState)(0),[y]=(0,A.useState)({direction:"right",x:0,y:0}),[f,x]=(0,A.useState)("right"),[w,S]=(0,A.useState)({x:[],y:[]}),[E,B]=(0,A.useState)(!1),[p,g]=(0,A.useState)(0),[v,m]=(0,A.useState)(0);const[Q,k]=(0,A.useState)(0);(0,A.useEffect)((()=>{t.pause&&t.pause&&("Play"===o?n("Pause"):"Pause"===o?n("Play"):"Win"!==o&&"End"!==o&&"Start"!==o||n("Restart"))}),[t]),(0,A.useEffect)((()=>{"Restart"===o?m(0):"Play"===o?k(performance.now()):"Pause"!==o&&"End"!==o||(m(v+performance.now()-Q),v+=performance.now()-Q)}),[o]),(0,A.useEffect)((()=>{void 0===w.x[0]?t.up?y.direction="up":t.down?y.direction="down":t.left?y.direction="left":t.right&&(y.direction="right"):t.up&&"down"!==f?y.direction="up":t.down&&"up"!==f?y.direction="down":t.left&&"right"!==f?y.direction="left":t.right&&"left"!==f&&(y.direction="right")}),[t,p]);const U=(e,t,a)=>{e.fillStyle="#000000",e.fillRect(0,0,t,a)};return(0,A.useEffect)((()=>{const e=s.current.getContext("2d");let t,a=e.canvas.width/30,A=e.canvas.height/30;"Play"===o?(U(e,e.canvas.width,e.canvas.height),((e,t,a)=>{let A,o,n,s=!1;if(r)A=l.x,o=l.y;else{if(l.x=Math.floor(30*Math.random()),l.y=Math.floor(30*Math.random()),void 0===w.x[0])for(;l.x===y.x&&l.y===y.y;)l.x=Math.floor(30*Math.random()),l.y=Math.floor(30*Math.random());else{for(let e=0;e<w.x.length;e++)l.x===w.x[e]&&(n=!0),l.y===w.y[e]&&(s=!0);for(;!0===n&&!0===s;){l.x=Math.floor(30*Math.random()),l.y=Math.floor(30*Math.random());let e=!1,t=!1;for(let a=0;a<w.x.length;a++)l.x===w.x[a]&&(e=!0),l.y===w.y[a]&&(t=!0);n=e,s=t}}A=l.x,o=l.y,c(!0)}e.fillStyle="#00FF00",e.fillRect(A*t,o*a,t,a)})(e,a,A),((e,t,a)=>{let A,o;if(E)switch(y.direction){case"right":A=y.x+1,o=y.y,y.x=y.x+1;break;case"left":A=y.x-1,o=y.y,y.x=y.x-1;break;case"up":A=y.x,o=y.y-1,y.y=y.y-1;break;case"down":A=y.x,o=y.y+1,y.y=y.y+1}else A=10*t,o=10*a,B(!0),y.x=10,y.y=10;if(x(y.direction),void 0!==w.x[2])for(let s=2;s<w.x.length;s++)w.x[s]===y.x&&w.y[s]===y.y&&n("End");y.x>=30||y.x<0||y.y<0||y.y>=30?n("End"):l.x===y.x&&l.y===y.y&&(c(!1),u(d+1),w.x.unshift(y.x),w.y.unshift(y.y)),e.fillStyle="#00FFFF",e.fillRect(A*t,o*a,t,a)})(e,a,A),((e,t,a)=>{for(let A=0;A<w.x.length;A++)e.fillStyle="#00FFFF",e.fillRect(w.x[A]*t,w.y[A]*a,t,a);w.x.unshift(y.x),w.y.unshift(y.y),w.x.pop(),w.y.pop()})(e,a,A),h(e,e.canvas.width,e.canvas.height),setTimeout((()=>{g(p+1)}),[250])):"Pause"===o?(((e,t,a)=>{U(e,t,a),e.fillStyle="#FF0000",e.font="50px monospace",e.fillText("Paused",7*t,17*a,500)})(e,a,A),h(e,e.canvas.width,e.canvas.height)):"End"===o?(U(e,e.canvas.width,e.canvas.height),((e,t,a)=>{U(e,t,a),e.fillStyle="#FF0000",e.font="50px monospace",e.fillText("Game Over",3*t,8*a,500),e.font="28px monospace",e.fillText("Score: "+d,7*t,15*a,500),e.fillText("Time: "+Math.floor(v/1e3),7*t,20*a,500),e.font="16px monospace",e.fillText("Press Play to Restart",5.5*t,25*a,500)})(e,a,A),h(e,e.canvas.width,e.canvas.height)):"Restart"===o?(n("Play"),g(1),c(!1),B(!1),u(0),S({x:[],y:[]})):"Start"===o&&(((e,t,a)=>{U(e,t,a),e.fillStyle="#FF0000",e.font="26px monospace",e.fillText("Press Play to Start",1.5*t,17*a,500)})(e,a,A),h(e,e.canvas.width,e.canvas.height),g(1),c(!1),B(!1),u(0),S({x:[],y:[]}));const i=()=>{t=window.requestAnimationFrame(i)};return i(),()=>{window.cancelAnimationFrame(t)}}),[p,o]),(0,i.jsx)("canvas",{height:"300",width:"300",ref:s,onTouchStart:e=>e.preventDefault(),onTouchMove:e=>e.preventDefault(),onTouchEnd:e=>e.preventDefault(),onTouchCancel:e=>e.preventDefault()})},g=JSON.parse('{"1":{"Level":1,"Enemies":72,"Matrix":[[0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0],[0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0],[0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,9,0,0,9,0,9,0,0,9,0,9,0,0,9,0,9,0,9,0,9,0,0,9,0]]}}'),v=1e3/60,m=150,Q=300,k=10,U={id:1,x:10,y:10,row:0,life:1,currSprite:1,totalSprites:2,w:10,h:10,hit:!1,color:"green",sprites:{1:[[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,1,0,0,1,1,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[0,1,1,0,1,1,0,1,1,0],[1,1,0,0,1,1,0,0,1,1],[1,0,0,0,0,0,0,0,0,1]],2:[[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,1,0,0,1,1,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[0,0,1,0,1,1,0,1,0,0],[0,1,1,0,1,1,0,1,1,0],[0,1,0,0,0,0,0,0,1,1]]}},C={id:2,x:10,y:10,row:0,life:2,hit:!1,currSprite:1,totalSprites:2,w:10,h:10,color:"red",sprites:{1:[[0,1,0,0,0,0,0,0,1,0],[0,1,1,0,0,0,0,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,0,1,1],[1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,0,0,1,1,1,1],[1,1,0,0,0,0,0,0,1,1],[0,1,1,0,0,0,0,1,1,0],[0,0,1,1,0,0,1,1,0,0]],2:[[0,0,1,0,0,0,0,1,0,0],[0,1,1,0,0,0,0,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,0,1,1],[1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,0,0,1,1,1,1],[1,1,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,1,1],[0,1,1,1,0,0,1,1,1,0]]}},T={id:3,x:10,y:10,row:0,life:3,hit:!1,currSprite:1,totalSprites:2,w:10,h:10,color:"cyan",sprites:{1:[[0,1,1,0,0,0,0,1,1,0],[0,0,1,0,0,0,0,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,0,1,1,1,1,0,1,1],[1,1,0,0,1,1,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,0,1],[1,0,1,0,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,1]],2:[[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,0,1,1,1,1,0,1,1],[1,1,0,0,1,1,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,0,1],[1,0,1,0,1,1,0,1,0,1],[1,1,0,0,0,0,0,0,1,1]]}},b={id:8,x:10,y:10,life:1,hit:!1,currSprite:1,totalSprites:2,w:20,h:10,color:"magenta",sprites:{1:[[0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,0,0]],2:[[0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,0,0]]}},R={id:10,x:10,y:130,speed:2,move:"none",shooting:!1,cooling:0,currSprite:1,w:10,h:10,color:"white",cooldown:250,sprites:{1:[[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,1,1,1,0,0,0],[0,1,0,1,1,1,1,0,1,0],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,0,0,1,0,0,1,0,0,1]]}},I={id:9,x:10,y:10,currSprite:1,w:10,h:10,color:"gray",sprites:{1:[[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,0],[0,0,1,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,0,0]]}},D={id:"player",x:10,y:10,h:9,w:2,speed:5,color:"white",currSprite:1,totalSprites:2,sprites:{1:[[1,1],[1,0],[1,1],[0,1],[1,1],[1,0],[1,1],[0,1],[1,1]],2:[[1,1],[0,1],[1,1],[1,0],[1,1],[0,1],[1,1],[1,0],[1,1]]}},P={id:"invader",x:10,y:10,currSprite:1,totalSprites:1,w:2,h:9,speed:2,color:"yellow",sprites:{1:[[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1]]}};function N(e){let{controls:t,isSelected:a,gameState:o,setGameState:n}=e;const s=(0,A.useRef)(null),[r,c]=(0,A.useState)(0),[l,d]=(0,A.useState)(3),[u,y]=(0,A.useState)(1),[f,x]=(0,A.useState)(0),[w,S]=(0,A.useState)(0),[E,B]=(0,A.useState)({index:0,rows:[]}),[p,N]=(0,A.useState)([]),[J,M]=(0,A.useState)([]),[O,j]=(0,A.useState)([]),V=500;let[F,q]=(0,A.useState)(Object.create(R)),[G,z]=(0,A.useState)(0);const[K,X]=(0,A.useState)(0);(0,A.useEffect)((()=>{if(t.pause)switch(o){case"Play":n("Pause");break;case"Pause":n("Play");break;case"Win":case"End":case"Start":n("Restart")}}),[t]),(0,A.useEffect)((()=>{"Play"===o&&(t.left&&!t.right&&F.x+F.w>F.w?F.x=F.x-F.speed:t.right&&!t.left&&F.x+F.w<Q?F.x=F.x+F.speed:t.left&&t.right?F.move="none":t.left||t.right||(F.move="none"),(t.up||t.one)&&0===F.cooling&&(F.shooting=!0))}),[t,f]),(0,A.useEffect)((()=>{"Restart"===o?z(0):"Play"===o?X(performance.now()):"Pause"!==o&&"End"!==o&&"Win"!==o||(z(G+performance.now()-K),G+=performance.now()-K)}),[o]);const Y=e=>{e.fillStyle="black",e.fillRect(0,0,e.canvas.width,e.canvas.height)},Z=(e,t)=>{!0===t.hit?e.fillStyle="white":e.fillStyle=t.color;for(let a=0;a<t.sprites[t.currSprite].length;a++)for(let A=0;A<t.sprites[t.currSprite][a].length;A++)1===t.sprites[t.currSprite][a][A]&&e.fillRect(t.x+A,t.y+a,1,1);t.sprites.length>1&&(t.currSprite<t.sprites.length-1?t.currSprite++:t.currSprite=1)},H=e=>{for(let t=0;t<p.length;t++)Z(e,p[t]);for(let t=0;t<J.length;t++)Z(e,J[t]);Z(e,F),(e=>{let t=0,a=0,A=0;if(O.length>0)for(let o=0;o<O.length;o++){O[o].decay<=166.66666666666666?t=Math.floor(255*O[o].decay/166.66666666666666):O[o].decay<=1e3/3?(t=255,a=Math.floor(255*(O[o].decay-166.66666666666666)/166.66666666666666)):(t=255,a=255,A=Math.floor(255*(O[o].decay-1e3/3)/166.66666666666666)),e.fillStyle="rgb("+t+","+a+","+A+")";let n=2*O[o].decay/(V+O[o].decay),s=O[o].w/2*n-10;e.fillRect(O[o].x+2*s/3,O[o].y+2*s/3,2,2),e.fillRect(O[o].x-2*s/3,O[o].y+2*s/3,2,2),e.fillRect(O[o].x+2*s/3,O[o].y-2*s/3,2,2),e.fillRect(O[o].x-2*s/3,O[o].y-2*s/3,2,2),e.fillRect(O[o].x+s,O[o].y,2,2),e.fillRect(O[o].x-s,O[o].y,2,2),e.fillRect(O[o].x,O[o].y+s,2,2),e.fillRect(O[o].x,O[o].y-s,2,2)}})(e)},L=()=>{let e={},t=[],a={index:0,rows:[]};for(let A=0;A<g[u].Matrix.length;A++)for(let o=0;o<g[u].Matrix[A].length;o++)switch(g[u].Matrix[A][o]){case 1:e=Object.create(U),e.x=o*k*1.2,e.y=15+A*k*1.2,e.row=A,t.push(e),void 0===a.rows[A]&&a.rows.push("right");break;case 2:e=Object.create(C),e.x=o*k*1.2,e.y=15+A*k*1.2,e.row=A,t.push(e),void 0===a.rows[A]&&a.rows.push("right");break;case 3:e=Object.create(T),e.x=o*k*1.2,e.y=15+A*k*1.2,e.row=A,t.push(e),void 0===a.rows[A]&&a.rows.push("right");break;case 9:e=Object.create(I),e.x=o*k*1.2,e.y=5+A*k*1.2,t.push(e)}S(g[u].Enemies),N(t),B(a)},W=e=>{let t={x:e.x+e.w/2-1,y:e.y+e.h/2-1,w:e.w,h:e.h,decay:V};O.push(t),j(O)},$=e=>{p[e].life-1>0?(p[e].life=p[e].life-1,p[e].hit=!0,c(r+5),setTimeout((()=>{p[e].hit=!1}),[F.cooldown/2])):(W(p[e]),8!==p[e].id?(S(w-1),c(r+10)):c(r+150),p.splice(e,1)),N(p)},_=e=>{W(p[e])},ee=e=>{let t=!1;for(let a=0;a<p.length;a++)"player"===J[e].id?J[e].x>p[a].x&&J[e].x<p[a].x+p[a].w&&J[e].y>p[a].y&&J[e].y<p[a].y+p[a].h&&(t=!0,9===p[a].id?_(a):$(a)):J[e].x>F.x&&J[e].x<F.x+F.w&&J[e].y>F.y-F.h&&J[e].y<F.y?(t=!0,l-1>=0?(d(l-1),W(F)):n("End")):J[e].x>p[a].x&&J[e].x<p[a].x+p[a].w&&J[e].y>p[a].y-p[a].h&&J[e].y<p[a].y&&9===p[a].id&&(t=!0,_(a));return t},te=()=>{f*v%(1200*v)===0&&(()=>{let e=Object.create(b);Math.random()>.5?(e.x=0,e.speed=1):(e.x=Q-e.w,e.speed=-1),e.y=2,p.push(e),N(p)})(),(()=>{let e={};!0===F.shooting&&0===F.cooling&&(e=Object.create(D),e.x=F.x-1+F.w/2,e.y=F.y,J.push(e),F.cooling=F.cooldown,setTimeout((()=>{F.cooling=0}),[F.cooldown]),M(J),F.shooting=!1)})(),(()=>{let e={},t=Math.random(),a=Math.floor(Math.random()*w);t>.95&&(e=Object.create(P),e.x=p[a].x+F.w/2,e.y=p[a].y,J.push(e),M(J))})(),(()=>{let e=[];if(J.length>0){for(let t=0;t<J.length;t++)ee(t)||("player"===J[t].id?J[t].y>0&&(J[t].y-=J[t].speed,J[t].currSprite<J[t].totalSprites?J[t].currSprite=J[t].currSprite+1:J[t].currSprite=1,e.push(J[t])):J[t].y<m&&(J[t].y+=J[t].speed,e.push(J[t])));M(e)}})(),(()=>{if(O.length>0){for(let e=0;e<O.length;e++)O[e].decay-v>0?O[e].decay=O[e].decay-v:O.splice(e,1);j(O)}})(),(()=>{switch(E.index>=w&&(E.index=0),E.rows[p[E.index].row]){case"left":p[E.index].x>2?p[E.index].x=p[E.index].x-1:(E.rows[p[E.index].row]="right",p[E.index].x=p[E.index].x+1);break;case"right":p[E.index].x+p[E.index].w<Q-1?p[E.index].x=p[E.index].x+1:E.rows[p[E.index].row]="left"}p[E.index].currSprite<p[E.index].totalSprites?p[E.index].currSprite=p[E.index].currSprite+1:p[E.index].currSprite=1,E.index++;for(let e=0;e<p.length;e++)8===p[e].id&&(p[e].x+p[e].w>0&&p[e].x<Q?(p[e].x=p[e].x+p[e].speed,p[e].currSprite<p[e].totalSprites?p[e].currSprite=p[e].currSprite+1:p[e].currSprite=1):p.splice(e,1));N(p),B(E)})()};return(0,A.useEffect)((()=>{const e=s.current.getContext("2d");let t;switch(o){case"Play":l>=0&&w>0?(Y(e),h(e,e.canvas.width,e.canvas.height),te(),H(e),A=k,i=k,(a=e).fillStyle="red",a.font="10px monospace",a.fillText("LIFE:"+l,A/2,m-i/4,500),setTimeout((()=>{x(f+1)}),[v])):l<0?n("End"):0===w&&n("Win");break;case"Pause":((e,t,a)=>{e.fillStyle="red",e.font="40px monospace",e.fillText("Paused",8*t,8*a,500)})(e,k,k),h(e,e.canvas.width,e.canvas.height);break;case"Win":Y(e),((e,t,a)=>{Y(e),e.fillStyle="red",e.font="40px monospace",e.fillText("You Win",7*t,4*a,500),e.font="16px monospace",e.fillText("Score: "+r,10*t,7*a,500),e.fillText("Time: "+Math.floor(G/1e3),10*t,9*a,500),e.fillText("Lives: "+l,10*t,11*a,500),e.font="12px monospace",e.fillText("Press Play to Restart",8*t,14*a,500)})(e,k,k),h(e,e.canvas.width,e.canvas.height);break;case"End":Y(e),((e,t,a)=>{e.fillStyle="red",e.font="40px monospace",e.fillText("Game Over",5*t,5*a,500),e.font="16px monospace",e.fillText("Score: "+r,11*t,8*a,500),e.fillText("Time: "+Math.floor(G/1e3),11*t,10*a,500),e.font="12px monospace",e.fillText("Press Play to Restart",8*t,13*a,500)})(e,k,k),h(e,e.canvas.width,e.canvas.height);break;case"Start":y(1),c(0),d(3),j([]),M([]),L(),q(Object.create(R)),x(1),Y(e),((e,t,a)=>{Y(e),e.fillStyle="#FF0000",e.font="24px monospace",e.fillText("Press Play to Start",2.5*t,8*a,500)})(e,k,k),h(e,e.canvas.width,e.canvas.height);break;case"Restart":y(1),c(0),d(3),j([]),M([]),L(),q(Object.create(R)),x(1),n("Play")}var a,A,i;const u=()=>{t=window.requestAnimationFrame(u)};return u(),()=>{window.cancelAnimationFrame(t)}}),[o,f]),(0,i.jsx)("canvas",{ref:s,width:300,height:150,onTouchStart:e=>e.preventDefault(),onTouchMove:e=>e.preventDefault(),onTouchEnd:e=>e.preventDefault(),onTouchCancel:e=>e.preventDefault()})}const J=(e,t,a,A,o)=>{switch(e){case"Keybinds":o.setShowKeybindDialog(!o.showKeybindDialog),t(!1);break;case"Play / Pause":"Play"===o.gameState?o.setGameState("Pause"):"Pause"===o.gameState&&o.setGameState("Play"),t(!1);break;case"New":o.setGameState("Restart"),t(!1);break;case"touchscreenControls":o.setShowControls(!o.showControls),t(!1);break;case!1:break;default:t(!1)}},M=(e,t,a)=>{if(null===e)t({Game:{"New Game":{action:"New",keybind:"Alt+N",disabled:!0},"Play / Pause":{action:"Play / Pause",keybind:"P",disabled:!0},LineBreak1:{},Keybinds:{action:"Keybinds",disabled:!1},LineBreak2:{},Close:{action:"Close",keybind:"Alt+Shift+F4",disabled:!1}},View:{"Touchscreen Controls":{action:"touchscreenControls",checkbox:!0,disabled:!1}}});else{t({...e,Game:{...e.Game,"New Game":{...e.Game["New Game"],disabled:!a.gameChoice},"Play / Pause":{...e.Game["Play / Pause"],disabled:!a.gameChoice}},View:{...e.View,"Touchscreen Controls":{...e.View["Touchscreen Controls"],checkbox:a.showControls}}})}},O=e=>{let{showKeybindDialog:t,setShowKeybindDialog:a,setAppDialog:o,keyboard:n,setKeyboard:s}=e;const[r,c]=(0,A.useState)(structuredClone(n)),[l,d]=(0,A.useState)(""),[h,u]=(0,A.useState)(0),y=(0,i.jsxs)("div",{children:[Object.keys(r).map((e=>(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",marginLeft:"5px"},children:[(0,i.jsx)("div",{style:{width:"55px",height:"30px",display:"flex",justifyContent:"start",alignItems:"center",textAlign:"center"},children:(0,i.jsxs)("b",{children:[e,":"]})}),r[e].keys.map(((t,a)=>(0,i.jsx)("button",{style:{width:"75px",height:"30px",border:"1px solid dimgray"},onContextMenu:t=>((e,t)=>{r[e].keys.splice(t,1),c(r),u(h+1)})(e,a),onClick:()=>((e,t)=>{d("Press new key..."),new Promise(((e,t)=>{document.addEventListener("keydown",(t=>e(t.key))),setTimeout((()=>{document.removeEventListener("keydown",(t=>e(t.key))),t("timeout")}),1e4)})).then((a=>{r[e].keys[t]=a,c(r),d("")})).catch((e=>{d(e)}))})(e,a),children:t},a))),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:r[e].keys.length<3&&(0,i.jsx)("button",{onClick:()=>(e=>{d("Press new key..."),new Promise(((e,t)=>{document.addEventListener("keydown",(t=>e(t.key))),setTimeout((()=>{document.removeEventListener("keydown",(t=>e(t.key))),t("timeout")}),1e4)})).then((t=>{r[e].keys[r[e].keys.length]=t,c(r),d("")})).catch((e=>{d(e)}))})(e),children:"+"})})]},e))),l]}),f={Confirm:()=>{s(r),a(!1),o(null)},Reset:()=>{c(n),u(h+1)},Cancel:()=>{c(n),a(!1),o(null)}};return(0,A.useEffect)((()=>{t&&o({title:"Keybinds",info:y,actions:f})}),[t,r,l,h]),(0,i.jsx)(i.Fragment,{})};function j(e){const t=e.isSelected,a=e.action,s=e.setAction,r=e.appDialog,c=e.setAppDialog,d=e.appMenu,h=e.setAppMenu,u=e.contextMenu,y=(0,A.useRef)(),[f,x]=(0,A.useState)({up:{keys:["w","W","ArrowUp"],active:!0},down:{keys:["s","S","ArrowDown"],active:!0},left:{keys:["a","A","ArrowLeft"],active:!0},right:{keys:["d","D","ArrowRight"],active:!0},one:{keys:["1"],active:!0},two:{keys:["2"],active:!0},pause:{keys:["p","P","Pause"],active:!0},eject:{keys:["Escape"],active:!0}}),w=function(e,t){var[a,o]=(0,A.useState)({up:!1,down:!1,left:!1,right:!1,one:!1,two:!1,pause:!1,eject:!1});const n=(0,A.useCallback)(((e,a)=>{const A=Object.keys(t);for(let n=0;n<A.length;n++){let s=t[A[n]].keys;for(let t=0;t<s.length;t++)s[t]===e&&o((e=>({...e,[A[n]]:a})))}}),[t]),s=(0,A.useCallback)((e=>{n(e.key,!0)}),[n]),r=(0,A.useCallback)((e=>{n(e.key,!1)}),[n]);return(0,A.useEffect)((()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)})),[s]),(0,A.useEffect)((()=>(document.addEventListener("keyup",r),()=>{document.removeEventListener("keyup",r)})),[r]),(0,A.useEffect)((()=>{e||o({...a,pause:!0})}),[e]),a}(t,f),[S,E]=(0,A.useState)("Start"),[g,v]=(0,A.useState)("None"),[m,Q]=(0,A.useState)(1),[k,U]=(0,A.useState)(!0),[C,T]=(0,A.useState)(!0),[b,R]=(0,A.useState)(!1),I=(e,t,a)=>{document.dispatchEvent(new KeyboardEvent(t,{key:f[e].keys[0],repeat:a}))},D=(e,t)=>{"touchstart"===e.type?w[t]=!0:"touchend"===e.type||"touchcancel"===e.type?w[t]=!1:"touchmove"===e.type&&Object.values(e.touches).forEach((e=>{let t=[],a=e.clientX,A=e.clientY,o={up:document.getElementById("arcadeButtonUp").getBoundingClientRect(),down:document.getElementById("arcadeButtonDown").getBoundingClientRect(),left:document.getElementById("arcadeButtonLeft").getBoundingClientRect(),right:document.getElementById("arcadeButtonRight").getBoundingClientRect(),one:document.getElementById("arcadeButtonA").getBoundingClientRect(),two:document.getElementById("arcadeButtonB").getBoundingClientRect()};Object.keys(o).forEach((e=>{a>=o[e].x&&a<=o[e].x+o[e].width&&A>=o[e].y&&A<=o[e].y+o[e].height&&t.push(e)})),Object.keys(f).forEach((e=>{t.includes(e)?w[e]=!0:w[e]=!1}))}))};return(0,A.useEffect)((()=>{U("Play"!==S)}),[S]),(0,A.useEffect)((()=>{w.eject&&(v("None"),E("Start"))}),[w.eject]),(0,A.useEffect)((()=>{J(a,s,r,c,{gameState:S,setGameState:E,showControls:C,setShowControls:T,showKeybindDialog:b,setShowKeybindDialog:R})}),[a]),(0,A.useEffect)((()=>{M(d,h,{gameState:S,showControls:C,gameChoice:g})}),[S,g,C]),(0,i.jsxs)("div",{id:"arcadeContainer",children:[(0,i.jsx)("div",{id:"arcadeCanvasContainer",style:{transform:`scale(${m})`},ref:y,onContextMenu:e=>((e,t)=>{let a={};if(e.preventDefault(),"keypad"===t)a={Hide:{action:()=>{T(!1)}}};else if("canvas"===t&&"None"!==g){let e="Play"===S?"Pause":"Play";a={"Play/Pause":{action:()=>{E(e)}},"New Game":{action:()=>{E("Restart")}}}}u.setOpen(),u.setPosition(e.clientX,e.clientY),u.setContent(a)})(e,"canvas"),children:"None"===g?(0,i.jsx)(l,{controls:w,setGameChoice:v,setGameState:E,canvasZoom:m}):"Snake"===g?(0,i.jsx)(p,{controls:w,isSelected:t,gameState:S,setGameState:E,canvasZoom:m}):"Breakout"===g?(0,i.jsx)(B,{controls:w,isSelected:t,gameState:S,setGameState:E,canvasZoom:m}):"Space Invaders"===g?(0,i.jsx)(N,{controls:w,isSelected:t,gameState:S,setGameState:E,canvasZoom:m}):(0,i.jsx)(i.Fragment,{})}),C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{id:"arcadeZoomControls",children:[(0,i.jsx)("div",{id:"arcadeZoomInButton",className:"arcadeButton arcadeButtonOff",onClick:()=>{m<2&&Q(m+.1)},children:(0,i.jsx)(n.YQo,{})}),(0,i.jsx)("div",{id:"arcadeZoomOutButton",className:"arcadeButton arcadeButtonOff",onClick:()=>{m>.1&&Q(m-.1)},children:(0,i.jsx)(n.B1P,{})})]}),(0,i.jsxs)("div",{id:"arcadeStateControls",children:[(0,i.jsx)("div",{id:"arcadeEjectButton",className:"arcadeButton arcadeButtonOff",onClick:()=>{v("None"),E("Start")},children:(0,i.jsx)(n.GZd,{})}),(0,i.jsx)("div",{id:"arcadePlayButton",className:"arcadeButton arcadeButtonOff",onClick:()=>{I("pause","keydown",!1),setTimeout((()=>I("pause","keyup",!1)),50)},children:k?(0,i.jsx)(n.i8P,{}):(0,i.jsx)(n.bb6,{})})]}),(0,i.jsxs)("div",{id:"arcadeArrowControls",children:[(0,i.jsx)("div",{id:"arcadeButtonLeft",className:w.left?"arcadeButton arcadeButtonOn":"arcadeButton arcadeButtonOff",onMouseDown:()=>I("left","keydown",!0),onMouseUp:()=>I("left","keyup",!0),onTouchStart:e=>{D(e,"left")},onTouchMove:e=>{D(e,"left")},onTouchEnd:e=>{D(e,"left")},onTouchCancel:e=>{D(e,"left")},children:(0,i.jsx)(o.QVr,{})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{id:"arcadeButtonUp",className:w.up?"arcadeButton arcadeButtonOn":"arcadeButton arcadeButtonOff",onMouseDown:()=>I("up","keydown",!0),onMouseUp:()=>I("up","keyup",!0),onTouchStart:e=>{D(e,"up")},onTouchMove:e=>{D(e,"up")},onTouchEnd:e=>{D(e,"up")},onTouchCancel:e=>{D(e,"up")},children:(0,i.jsx)(o.uCC,{})}),(0,i.jsx)("div",{id:"arcadeButtonDown",className:w.down?"arcadeButton arcadeButtonOn":"arcadeButton arcadeButtonOff",onMouseDown:()=>I("down","keydown",!0),onMouseUp:()=>I("down","keyup",!0),onTouchStart:e=>{D(e,"down")},onTouchMove:e=>{D(e,"down")},onTouchEnd:e=>{D(e,"down")},onTouchCancel:e=>{D(e,"down")},children:(0,i.jsx)(o.$TP,{})})]}),(0,i.jsx)("div",{id:"arcadeButtonRight",className:w.right?"arcadeButton arcadeButtonOn":"arcadeButton arcadeButtonOff",onMouseDown:()=>I("right","keydown",!0),onMouseUp:()=>I("right","keyup",!0),onTouchStart:e=>{D(e,"right")},onTouchMove:e=>{D(e,"right")},onTouchEnd:e=>{D(e,"right")},onTouchCancel:e=>{D(e,"right")},children:(0,i.jsx)(o.Z0P,{})})]}),(0,i.jsxs)("div",{id:"arcadeFireControls",children:[(0,i.jsx)("div",{id:"arcadeButtonA",className:w.one?"arcadeButton arcadeButtonOn":"arcadeButton arcadeButtonOff",onMouseDown:()=>I("one","keydown",!0),onMouseUp:()=>I("one","keyup",!0),onTouchStart:e=>{D(e,"one")},onTouchMove:e=>{D(e,"one")},onTouchEnd:e=>{D(e,"one")},onTouchCancel:e=>{D(e,"one")},children:"A"}),(0,i.jsx)("div",{id:"arcadeButtonB",className:w.two?"arcadeButton arcadeButtonOn":"arcadeButton arcadeButtonOff",onMouseDown:()=>I("two","keydown",!0),onMouseUp:()=>I("two","keyup",!0),onTouchStart:e=>{D(e,"two")},onTouchMove:e=>{D(e,"two")},onTouchEnd:e=>{D(e,"two")},onTouchCancel:e=>{D(e,"two")},children:"B"})]})]}),(0,i.jsx)(O,{showKeybindDialog:b,setShowKeybindDialog:R,setAppDialog:c,keyboard:f,setKeyboard:x})]})}}}]);
//# sourceMappingURL=6682.9764731c.chunk.js.map