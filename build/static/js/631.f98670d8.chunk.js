(self.webpackChunkpc=self.webpackChunkpc||[]).push([[631],{4093:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ce});var a=i(5043);const r=(e,t,i)=>{if(""===e){let e="",a={};Object.keys(t).forEach((i=>{t[i].State.isSelected&&(e=i)})),""!==e&&(Object.keys(t).forEach((e=>{a[e]={...t[e],State:{...t[e].State,isSelected:!1},Location:{...t[e].Location,zIndex:t[e].Location.zIndex-1}}})),i(a))}else if(!t[e].State.isSelected){let a={};Object.keys(t).forEach((i=>{a[i]=i===e?{...t[i],State:{...t[i].State,isSelected:!0},Location:{...t[i].Location,zIndex:100}}:{...t[i],State:{...t[i].State,isSelected:!1},Location:{...t[i].Location,zIndex:t[i].Location.zIndex-1}}})),i(a)}};var n=i(579);const s=(0,a.createContext)({apps:{},setOpen:()=>{},setClose:()=>{},setAction:()=>{},setSelected:()=>{},setPosition:()=>{},setDefaultPosition:()=>{},setSize:()=>{},setDefaultSize:()=>{},switchMinimized:()=>{},switchMaximized:()=>{}});const o=function(e){let{children:t}=e;const[i,o]=(0,a.useState)({}),l={apps:i,setOpen:e=>{i.hasOwnProperty(e)?r(e,i,o):((e,t,i)=>{let a={};Object.keys(t).forEach((e=>{a={...a,[e]:{State:{...t[e].State,isSelected:!1},Location:{...t[e].Location,zIndex:t[e].Location.zIndex-1},Size:{...t[e].Size}}}}));let r=Object.keys(t).length;a={...a,[e]:{State:{action:!1,isMaximized:!1,isMinimized:!1,isSelected:!0},Location:{zIndex:100,Current:{top:10+10*r,left:10+10*r},Previous:{top:10+10*r,left:10+10*r}},Size:{Current:{width:500,height:500},Previous:{width:500,height:500}}}},i(a)})(e,i,o)},setClose:e=>{((e,t,i)=>{let a={};Object.keys(t).forEach((i=>{i!==e&&(a[i]={...t[i],State:{...t[i].State,isSelected:!1},Location:{...t[i].Location,zIndex:t[i].Location.zIndex+1}})})),i(a)})(e,i,o)},setAction:(e,t)=>{((e,t,i,a)=>{i({...t,[e]:{...t[e],State:{...t[e].State,action:a}}})})(e,i,o,t)},setSelected:e=>{r(e,i,o)},setPosition:(e,t,a)=>{((e,t,i,a,r)=>{i({...t,[e]:{...t[e],Location:{...t[e].Location,Current:{top:r,left:a}}}})})(e,i,o,t,a)},setDefaultPosition:(e,t,a)=>{((e,t,i,a,r)=>{i({...t,[e]:{...t[e],Location:{...t[e].Location,Previous:{top:r,left:a}}}})})(e,i,o,t,a)},setSize:(e,t,a)=>{((e,t,i,a,r)=>{i({...t,[e]:{...t[e],Size:{...t[e].Size,Current:{width:a,height:r}}}})})(e,i,o,t,a)},setDefaultSize:(e,t,a)=>{((e,t,i,a,r)=>{i({...t,[e]:{...t[e],Size:{...t[e].Size,Previous:{width:a,height:r}}}})})(e,i,o,t,a)},switchMinimized:e=>{((e,t,i)=>{let a={};t[e].State.isMinimized?Object.keys(t).forEach((i=>{a[i]=i===e?{...t[i],State:{...t[i].State,isMinimized:!1,isSelected:!0},Location:{...t[i].Location,zIndex:100}}:{...t[i],State:{...t[i].State,isSelected:!1},Location:{...t[i].Location,zIndex:t[i].Location.zIndex-1}}})):t[e].State.isSelected?Object.keys(t).forEach((i=>{a[i]=i===e?{...t[i],State:{...t[i].State,isSelected:!1,isMinimized:!0},Location:{...t[i].Location,zIndex:1}}:{...t[i],Location:{...t[i].Location,zIndex:t[i].Location.zIndex+1}}})):a={...t,[e]:{...t[e],State:{...t[e].State,isMinimized:!0},Location:{...t[e].Location,zIndex:1}}},i(a)})(e,i,o)},switchMaximized:e=>{((e,t,i)=>{let a={};var r=document.body,n=document.documentElement,s=Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)-getComputedStyle(root).getPropertyValue("--TaskbarHeight").slice(0,-2);t[e].State.isSelected?t[e].State.isMaximized?i({...t,[e]:{...t[e],State:{...t[e].State,isMaximized:!1},Location:{...t[e].Location,Current:{top:t[e].Location.Previous.top,left:t[e].Location.Previous.left}},Size:{...t[e].Size,Current:{width:t[e].Size.Previous.width,height:t[e].Size.Previous.height}}}}):i({...t,[e]:{State:{...t[e].State,isMaximized:!0},Location:{...t[e].Location,Current:{top:0,left:0},Previous:{top:t[e].Location.Current.top,left:t[e].Location.Current.left}},Size:{...t[e].Size,Current:{width:"100%",height:s}}}}):t[e].State.isMaximized?Object.keys(t).forEach((r=>{a[r]=r===e?{State:{...t[e].State,isMinimized:!1,isMaximized:!1,isSelected:!0},Location:{...t[e].Location,zIndex:100,Current:{top:t[e].Location.Previous.top,left:t[e].Location.Previous.left}},Size:{...t[e].Size,Current:{width:t[e].Size.Previous.width,height:t[e].Size.Previous.height}}}:{...t[r],State:{...t[r].State,isSelected:!1},Location:{...t[r].Location,zIndex:t[r].zIndex-1}},i(a)})):Object.keys(t).forEach((r=>{a[r]=r===e?{...t[r],State:{...t[r].State,isMinimized:!1,isMaximized:!0,isSelected:!0},Location:{zIndex:100,Current:{top:0,left:0},Previous:{top:t[e].Location.Current.top,left:t[e].Location.Current.left}},Size:{Current:{width:"100%",height:s},Previous:{width:t[e].Size.Current.width,height:t[e].Size.Current.height}}}:{...t[r],State:{...t[r].State,isSelected:!1},Location:{...t[r].Location,zIndex:t[r].zIndex-1}},i(a)}))})(e,i,o)}};return(0,n.jsx)(s.Provider,{value:l,children:t})};var l=i(4167);const c=(0,a.createContext)({isOpen:{},setOpen:()=>{},setClose:()=>{},content:{},setContent:()=>{},position:{},setPosition:()=>{},orientation:"",setOrientation:()=>{}});const d=function(e){let{children:t}=e;const[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)({}),[l,d]=(0,a.useState)({x:0,y:0}),[u,h]=(0,a.useState)("top"),p={isOpen:i,setOpen:()=>{r(!0)},setClose:()=>{r(!1)},content:s,setContent:o,position:l,setPosition:(e,t)=>{d({x:e,y:t})},orientation:u,setOrientation:h};return(0,n.jsx)(c.Provider,{value:p,children:t})};const u=e=>{let{setAction:t,appMenu:i}=e;const[r,s]=(0,a.useState)(!1),o=(0,a.useCallback)((()=>{if(i)return function(e){let t={},i={};return Object.keys(e).map((t=>{Object.keys(e[t]).map((a=>{e[t][a].keybind&&(i[a]=e[t][a].keybind)}))})),Object.keys(i).forEach((e=>{let a=!1,r=!1,n=!1,s="",o=i[e].split("+");o.forEach((e=>{e.includes("Ctrl")&&(a=!0),e.includes("Shift")&&(r=!0),e.includes("Alt")&&(n=!0)})),""===s&&(s="F"===o[o.length-1][0]?o[o.length-1]:""===o[o.length-1]?"+":"Esc"===o[o.length-1]?"Escape":o[o.length-1].toLowerCase()),t[e]={ctrlKey:a,shiftKey:r,altKey:n,key:s,arr:o}})),t}(i)}),[i]),l=e=>{if(i){let i=o();Object.keys(i).forEach((a=>{e.ctrlKey===i[a].ctrlKey&&e.shiftKey===i[a].shiftKey&&e.altKey===i[a].altKey&&e.key===i[a].key&&t(a)}))}};return(0,a.useEffect)((()=>{if(i)return addEventListener("keydown",l),()=>removeEventListener("keydown",l)}),[l,i]),(0,n.jsx)("nav",{className:"appMenuBar",onBlur:e=>{var t;(t=e).currentTarget.contains(t.relatedTarget)||s(!1)},children:Object.keys(i).map(((e,o)=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("drop-down",{children:void 0!==i[e]&&r===e?(0,n.jsx)("ul",{children:Object.keys(i[e]).map(((a,r)=>(0,n.jsx)("li",{children:"LineBreak"!==a.slice(0,9)?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{onClick:()=>t(i[e][a].action),disabled:i[e][a].disabled,...i[e][a].title?{title:i[e][a].title}:null,children:[(0,n.jsx)("div",{children:a}),(0,n.jsx)("span",{}),void 0!==i[e][a].checkbox?(0,n.jsx)("input",{type:"checkbox",checked:i[e][a].checkbox,readOnly:!0}):null,void 0!==i[e][a].keybind?(0,n.jsx)("kbd",{children:i[e][a].keybind}):null,void 0!==i[e][a].radio?(0,n.jsx)("input",{type:"radio",name:i[e][a].name,checked:i[e][a].radio,readOnly:!0}):null]})}):(0,n.jsx)("hr",{})},r+"appMenuBar")))}):null}),(0,n.jsx)("button",{onClick:()=>s(e),onMouseEnter:()=>(e=>{r&&s(e)})(e),children:e})]},e+"appMenuBar")))})};var h=i(7950);const p=e=>{let{action:t,setAction:i,appDialog:a}=e;return(0,n.jsx)(n.Fragment,{children:(0,h.createPortal)((0,n.jsxs)("app-dialog",{children:[(0,n.jsx)("app-dialog-top-bar",{children:a.title}),(0,n.jsx)("app-dialog-info",{children:a.info}),(0,n.jsx)("app-dialog-actions",{children:Object.keys(a.actions).map(((e,t)=>(0,n.jsx)("button",{className:"Close"===e?"buttonActiveRed":"",onClick:a.actions[e],children:e},t)))})]}),document.body)})};var x=i(184),m=i(3825),y=i(2620);class j extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){logErrorToMyService(e,t.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const g=e=>{let{appName:t}=e;const r=(0,a.useCallback)((0,a.lazy)((()=>i(2928)("./".concat(t,"/icon.js")).catch((e=>(console.error(e),{default:()=>(0,n.jsx)(y.x5l,{})}))))),[t]);return(0,n.jsx)(j,{fallback:(0,n.jsx)(y.x5l,{}),children:(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(y.x5l,{}),children:(0,n.jsx)(r,{})})})},b=e=>{let{appName:t,setAction:i}=e;const r=(0,a.useContext)(s),o=(0,a.useContext)(c),[l,d]=(0,a.useState)("grab"),[u,h]=(0,a.useState)({x:0,y:0}),p=(e,t)=>{let i,a;e.preventDefault(),d("grabbing"),r.apps[t].isMaximized||(e.type.includes("drag")?(i=e.clientX-u.x,a=e.clientY-u.y,0!==e.clientX&&0!==e.clientY&&r.setPosition(t,i,a)):(i=e.touches[0].clientX+u.x,a=e.touches[0].clientY+u.y,0!==e.touches[0].clientX&&0!==e.touches[0].clientY&&r.setPosition(t,i,a))),d("grab")},y=e=>{r.apps[t].State.isSelected&&(e.ctrlKey&&e.shiftKey&&"F4"===e.key?i(t,"Close"):e.altKey&&("ArrowUp"===e.key?r.apps[t].State.isMinimized||r.apps[t].State.isMaximized?r.apps[t].State.isMinimized&&r.switchMinimized(t):r.switchMaximized(t):"ArrowDown"===e.key&&(r.apps[t].State.isMaximized?r.switchMaximized(t):r.apps[t].State.isMinimized||r.switchMinimized(t))))};return(0,a.useEffect)((()=>(document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y))),[y]),(0,n.jsxs)("app-top-bar",{style:{color:r.apps[t].State.isSelected?"var(--WindowFontColor)":"var(--WindowFontColorInactive)",background:r.apps[t].State.isSelected?"var(--WindowTopBarBkgr)":"var(--WindowTopBarBkgrInactive)",cursor:r.apps[t].State.isMaximized?"default":l},draggable:!r.apps[t].State.isMaximized,onDragStart:e=>((e,t)=>{let i=r.apps[t].Location.Current.left,a=r.apps[t].Location.Current.top,n=e.clientX-i,s=e.clientY-a;h({x:n,y:s})})(e,t),onDrag:e=>p(e,t),onDragEnd:e=>p(e,t),onTouchMove:e=>p(e,t),onDoubleClick:e=>(e.stopPropagation(),r.switchMaximized(t)),onContextMenu:e=>(e=>{e.preventDefault(),o.setOpen(),o.setPosition(e.clientX,e.clientY),o.setContent({Minimize:{action:()=>{r.switchMinimized(t)}},Maximize:{action:()=>{r.switchMaximized(t)}},Close:{action:()=>{i("Close")}}})})(e),children:[(0,n.jsx)(g,{appName:t}),(0,n.jsx)("h1",{children:t}),(0,n.jsx)("button",{onClick:e=>(e.stopPropagation(),r.switchMinimized(t)),title:"Minimize (Alt + \u21e9)",children:(0,n.jsx)(x.MUA,{})}),r.apps[t].State.isMaximized?(0,n.jsx)("button",{onClick:e=>(e.stopPropagation(),r.switchMaximized(t)),title:"Restore (Alt + \u21e9)",children:(0,n.jsx)(x.GF8,{})}):(0,n.jsx)("button",{onClick:e=>(e.stopPropagation(),r.switchMaximized(t)),title:"Maximize (Alt + \u21e7)",children:(0,n.jsx)(x.U_c,{})}),(0,n.jsx)("button",{className:"buttonActiveRed",onClick:e=>(e.stopPropagation(),i("Close")),title:"Close (Ctrl + Shift + F4)",children:(0,n.jsx)(m.zhF,{})})]})};i(7915);var w=i(5200);function _(e){let{message:t}=e;return(0,n.jsxs)("loading-suspense",{children:["Loading ",t&&(0,n.jsx)(n.Fragment,{children:t}),(0,n.jsx)("div",{children:(0,n.jsx)(w.TwU,{})})]})}function f(e){let{errorMessage:t}=e;return console.log(t),(0,n.jsxs)("error-container",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.mRc,{className:"fullwarning"}),(0,n.jsx)(m.jDV,{className:"radialwarning"}),(0,n.jsx)(m.jDV,{})]}),(0,n.jsx)("samp",{children:"Error"}),(0,n.jsx)("p",{children:t})]})}const v=e=>{let{appName:t,isSelected:r,setClose:s}=e;const o=(0,a.useContext)(c),[l,d]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),[m,y]=(0,a.useState)(!0),[g,w]=(0,a.useState)("Startup");(0,a.useEffect)((()=>{"Close"===g&&m&&s(t)}),[g,m]);const v=(0,a.useCallback)((0,a.lazy)((()=>i(289)("./".concat(t,"/index.jsx")).catch((e=>(console.error(e),{default:()=>(0,n.jsx)(f,{errorMessage:"Failed to load App"})}))))),[t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{appName:t,setAction:w}),(0,n.jsx)(j,{fallback:(0,n.jsx)(f,{errorMessage:"Something went wrong while loading the App"}),children:(0,n.jsxs)(a.Suspense,{fallback:(0,n.jsx)(_,{message:"App"}),children:[l&&(0,n.jsx)(u,{action:g,setAction:w,appMenu:l}),h&&(0,n.jsx)(p,{action:g,setAction:w,appDialog:h}),(0,n.jsx)(v,{isSelected:r,action:g,setAction:w,appMenu:l,setAppMenu:d,appDialog:h,setAppDialog:x,contextMenu:o,canClose:m,setCanClose:y})]})})]})};function S(){const e=(0,a.useContext)(s);return(0,n.jsx)(n.Fragment,{children:Object.keys(e.apps).map((t=>(0,n.jsx)("app-window",{style:{zIndex:e.apps[t].Location.zIndex,top:e.apps[t].Location.Current.top,left:e.apps[t].Location.Current.left,width:e.apps[t].Size.Current.width,height:e.apps[t].Size.Current.height,borderColor:e.apps[t].State.isSelected?"var(--WindowBorderColor)":"var(--WindowBorderColorInactive)",background:e.apps[t].State.isSelected?"var(--WindowBkgr)":"var(--WindowBkgrInactive)",visibility:e.apps[t].State.isMinimized?"hidden":"visible",resize:e.apps[t].State.isMaximized?"none":"both"},onClick:()=>e.setSelected(t),onContextMenu:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),children:(0,n.jsx)(v,{appName:t,isSelected:e.apps[t].State.isSelected,setClose:e.setClose})},t+"AppHandler")))})}const k=JSON.parse('{"DrawDoc":{"shortcuts":{"Desktop":false,"Taskbar":false}},"Arcade":{"shortcuts":{"Desktop":false,"Taskbar":false}},"Calculator":{"shortcuts":{"Desktop":false,"Taskbar":false}},"Definitions":{"shortcuts":{"Desktop":false,"Taskbar":false}}}');function C(){const e=(0,a.useContext)(s),t=(0,a.useContext)(c);return(0,n.jsx)("desk-top",{onContextMenu:i=>(i=>{i.preventDefault(),"desk-top"===i.target.localName&&(t.setOpen(),t.setPosition(i.clientX,i.clientY),t.setContent({Personalize:{action:()=>{e.setOpen("Definitions")}}}))})(i),onDragEnter:e=>e.preventDefault(),onDragOver:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),children:(0,n.jsx)(S,{})})}var M=i(3156),z=i(6720),D=i(7196);const P=()=>{const e=(0,a.useContext)(s),[t,i]=(0,a.useState)(!1),r=e=>{e.altKey&&"Meta"===e.key&&i(!t),"Escape"===e.key&&i(!1)};return(0,a.useEffect)((()=>(addEventListener("keydown",r),()=>removeEventListener("keydown",r))),[r]),(0,n.jsxs)("start-button",{onBlur:e=>{var t;(t=e).currentTarget.contains(t.relatedTarget)||i(!1)},children:[(0,n.jsxs)("start-list",{class:t?"expandHeight expandWidth":"collapseHeight collapseWidth",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{onClick:()=>e.setOpen("Definitions"),title:"Restart (F5)","aria-label":"Restart Button",children:[(0,n.jsx)(M.XGb,{}),"Settings"]}),(0,n.jsxs)("button",{onClick:()=>window.location.reload(),title:"Restart (F5)","aria-label":"Restart Button",children:[(0,n.jsx)(z.m0F,{}),"Refresh"]}),(0,n.jsxs)("button",{className:"buttonActiveRed",onClick:()=>window.close(),title:"Close (Alt + F4)","aria-label":"Close Button",children:[(0,n.jsx)(D.SGq,{}),"Close"]})]}),(0,n.jsx)("ul",{children:Object.keys(k).map(((t,i)=>"Definitions"!==t&&(0,n.jsx)("li",{children:(0,n.jsxs)("button",{onClick:()=>e.setOpen(t),"aria-label":"Open "+t+" App",children:[(0,n.jsx)(g,{appName:t})," ",t]})},t+"startListedApp")))})]}),(0,n.jsx)("button",{className:t?"startButtonActive":null,onClick:()=>i(!t),title:"Start (Alt + \u2756)","aria-label":"Start Button",children:(0,n.jsx)(x.rMV,{})})]})},F=()=>{const e=(0,a.useContext)(s),t=(0,a.useContext)(c);return(0,n.jsx)("live-apps",{children:Object.keys(e.apps).map(((i,a,r)=>(0,n.jsx)("button",{onClick:()=>(t=>{e.apps[t].State.isMinimized||e.apps[t].State.isSelected?e.switchMinimized(t):e.setSelected(t)})(i),onContextMenu:a=>((i,a)=>{i.preventDefault(),t.setOpen(),t.setPosition(i.clientX,i.clientY),t.setContent({Minimize:{action:()=>{e.switchMinimized(a)}},Maximize:{action:()=>{e.switchMaximized(a)}},Close:{action:()=>{e.setClose(a)}}})})(a,i),"aria-label":"Live App"+{name:i},children:(0,n.jsx)(g,{appName:i})},i+"liveAppsButton")))})};function L(e){let{time:t}=e;const i=(0,a.useRef)(null),r=(e,t,i,a,r,n)=>{e.lineWidth=n,e.strokeStyle="#000000",e.beginPath(),e.moveTo(t/2,i/2),e.lineTo(t/2+Math.cos(a-Math.PI/2)*r,i/2+Math.sin(a-Math.PI/2)*r),e.stroke()};return(0,a.useEffect)((()=>{const e=i.current.getContext("2d"),a=e.canvas.width,n=e.canvas.height;let s;if(((e,t,i)=>{e.clearRect(0,0,t,i)})(e,a,n),((e,t,i)=>{e.strokeStyle="#000000",e.fillStyle="#AAAAAA",e.beginPath(),e.arc(t/2,i/2,t/2-5,0,2*Math.PI),e.stroke(),e.fill()})(e,a,n),((e,t,i)=>{e.strokeStyle="#000000",e.fillStyle="#000000",e.beginPath(),e.arc(t/2,i/2,3,0,2*Math.PI),e.stroke(),e.fill()})(e,a,n),void 0!==t.hours){let i=(t.hours>12?t.hours-12:t.hours)/12*2*Math.PI;r(e,a,n,i,a/4,4)}if(void 0!==t.minutes){let i=t.minutes/60*2*Math.PI;r(e,a,n,i,a/3,3)}if(void 0!==t.seconds){let i=t.seconds/60*2*Math.PI;r(e,a,n,i,a/2-10,2)}((e,t,i)=>{e.strokeStyle="#000000";for(let a=0;a<12;a++){let r=t/2+Math.cos(2*a*Math.PI/12-Math.PI/2)*(t/2-10),n=i/2+Math.sin(2*a*Math.PI/12-Math.PI/2)*(t/2-10),s=t/2+Math.cos(2*a*Math.PI/12-Math.PI/2)*(t/2-5),o=i/2+Math.sin(2*a*Math.PI/12-Math.PI/2)*(t/2-5);e.beginPath(),e.moveTo(r,n),e.lineTo(s,o),e.stroke()}})(e,a,n);const o=()=>{s=window.requestAnimationFrame(o)};return o(),()=>{window.cancelAnimationFrame(s)}}),[t]),(0,n.jsx)("canvas",{ref:i,width:"100",height:"100"})}const A=e=>{let{contextMenu:t,setShowClock:i}=e;const r=(0,a.useRef)(null),[s,o]=(0,a.useState)({hour24:!0,date:"dd/mm/yyyy",time:"hh:mm",clock:"numeric"}),[l,c]=(0,a.useState)(new Date),[d,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[w,_]=(0,a.useState)(""),[f,v]=(0,a.useState)("00"),[S,k]=(0,a.useState)("00"),[C,M]=(0,a.useState)("00"),z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],[P,F]=(0,a.useState)({month:"",year:""}),[A,I]=(0,a.useState)(!1),[E,H]=(0,a.useState)([[],[],[],[],[],[]]),[T,O]=(0,a.useState)({active:!1,x:0,y:0}),[W,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=setInterval((()=>{const e=new Date;c(e),u(e.getFullYear());let t=e.getMonth();j(D[Number(t)]),m(t),b(e.getDate()),_(z[Number(e.getDay())]);let i=e.getHours();i<10&&(i="0"+i),v(i);let a=e.getMinutes();a<10&&(a="0"+a),k(a);let r=e.getSeconds();r<10&&(r="0"+r),M(r)}),1e3);return()=>clearInterval(e)}),[]),(0,a.useEffect)((()=>{A&&(r.current.focus(),F({month:p,year:d}))}),[A]),(0,a.useEffect)((()=>{if(A){let e,t,i=new Date(P.year,P.month,0),a=new Date(P.year,P.month,1);P.month+1<=11?(e=new Date(P.year,P.month+1,0),t=new Date(P.year,P.month+1,1)):(e=new Date(P.year+1,0,0),t=new Date(P.year+1,0,1));let r=1,n=1;for(let s=0;s<6;s++){E[s]=[];for(let t=0;t<7;t++)0===s&&t<a.getDay()?E[s][t]={day:i.getDate()-(a.getDay()-t),month:P.month-1}:r>e.getDate()?(E[s][t]={day:n,month:P.month+1},n++):(E[s][t]={day:r,month:P.month},r++)}H(E)}}),[A,P]);const N=e=>{let t=P.month,i=P.year;"previous"===e?0===t?(t=11,i--):t--:"next"===e&&(11===t?(t=0,i++):t++),F({month:t,year:i})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("task-bar-clock",{"aria-label":"Clock",title:f+" hours, "+S+" minutes",children:(0,n.jsx)("button",{className:A?"buttonActive":"",onClick:()=>{I(!A)},onContextMenu:e=>(e=>{e.preventDefault();let a={Settings:{action:()=>{I(!0),R(!0)}},LineBreak:{},Hide:{action:()=>{i(!1)},checkbox:!0}};t.setOpen(),t.setPosition(e.clientX,e.clientY),t.setContent(a)})(e),children:"numeric"===s.clock?(0,n.jsxs)(n.Fragment,{children:[!s.hour24&&f>12?f-12:f,":",S,"hh:mm:ss"===s.time?(0,n.jsxs)(n.Fragment,{children:[":",C]}):"",s.hour24?"":f>12?" PM":" AM",(0,n.jsx)("br",{}),"dd/mm/yyyy"===s.date&&(0,n.jsxs)(n.Fragment,{children:[g,"/",Number(p)+1,"/",d]}),"mm/dd/yyyy"===s.date&&(0,n.jsxs)(n.Fragment,{children:[Number(p)+1,"/",g,"/",d]}),"yyyy/mm/dd"===s.date&&(0,n.jsxs)(n.Fragment,{children:[d,"/",Number(p)+1,"/",g]})]}):(0,n.jsx)("div",{style:{display:"flex",height:"var(--TaskbarIconSize)",width:"var(--TaskbarIconSize)"},children:(0,n.jsx)(L,{time:{hours:f,minutes:S,seconds:C}})})})}),A&&(0,h.createPortal)((0,n.jsxs)("calendar-window",{"aria-label":"Calendar",ref:r,tabindex:"0",onBlur:e=>{var t;(t=e).currentTarget.contains(t.relatedTarget)||(I(!1),R(!1))},children:[(0,n.jsxs)("calendar-header",{children:[(0,n.jsxs)("calendar-date",{children:[(0,n.jsxs)("div",{style:{fontSize:"30px",fontWeight:"bold"},children:[!s.hour24&&f>12?f-12:f,":",S,":",C,s.hour24?"":f>12?" PM":" AM"]}),w,", ",g," of ",y,", ",d]}),(0,n.jsx)("calendar-clock",{children:(0,n.jsx)(L,{time:{hours:f,minutes:S,seconds:C}})})]}),(0,n.jsxs)("calendar-container",{children:[(0,n.jsxs)("calendar-container-selector",{children:[(0,n.jsx)("button",{title:"Settings","aria-label":"Settings",className:W?"buttonActive":"",onClick:()=>R(!W),children:(0,n.jsx)(x.Pcn,{})}),(0,n.jsx)("button",{title:"Previous Month","aria-label":"Previous Month",onClick:()=>N("previous"),children:(0,n.jsx)(x.QVr,{})}),(0,n.jsx)("button",{title:"Next Month","aria-label":"Next Month",onClick:()=>N("next"),children:(0,n.jsx)(x.Z0P,{})}),D[P.month],", ",P.year]}),(0,n.jsxs)("calendar-container-table",{onMouseMove:e=>(e=>{let t=e.clientX,i=e.clientY,a=r.current.getBoundingClientRect(),n=getComputedStyle(document.getElementById("calendar-hover")).getPropertyValue("width").slice(0,-2),s=getComputedStyle(document.getElementById("calendar-hover")).getPropertyValue("height").slice(0,-2);O({active:!0,x:t-a.x-n/2,y:i-a.y-s/2})})(e),onMouseOut:e=>(e=>{null===e.relatedTarget?O({active:!1,x:0,y:0}):e.currentTarget.contains(e.relatedTarget)||O({active:!1,x:0,y:0})})(e),children:[(0,n.jsx)("div",{id:"calendar-hover",style:{left:T.x,top:T.y,display:T.active?"block":"none"}}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsx)("tr",{children:z.map((e=>(0,n.jsx)("th",{children:e.slice(0,3)},e)))})}),(0,n.jsx)("tbody",{children:E.map(((e,t)=>(0,n.jsx)("tr",{children:e.map(((e,i)=>(0,n.jsx)("td",{style:{color:e.month!==P.month?"dimgray":"",background:e.day===g&&e.month===p&&P.year===d?"blue":""},children:e.day},String(t)+" "+String(i))))},t)))})]})]})]}),W&&(0,n.jsxs)("calendar-settings",{children:[(0,n.jsxs)("button",{title:"Hour Format","aria-label":"Hour Format",onClick:()=>o({...s,hour24:!s.hour24}),children:["Hour Format:",s.hour24?"24h":"12h"]}),(0,n.jsxs)("button",{title:"Clock Type","aria-label":"Clock Type",onClick:()=>o({...s,clock:"numeric"===s.clock?"analog":"numeric"}),children:["Clock Type: ",s.clock]}),(0,n.jsxs)("div",{children:["Date Format:",(0,n.jsxs)("select",{value:s.date,onChange:e=>o({...s,date:e.target.value}),children:[(0,n.jsx)("option",{value:"dd/mm/yyyy",children:"dd/mm/yyyy"}),(0,n.jsx)("option",{value:"mm/dd/yyyy",children:"mm/dd/yyyy"}),(0,n.jsx)("option",{value:"yyyy/mm/dd",children:"yyyy/mm/dd"})]})]}),(0,n.jsxs)("div",{children:["Time Format:",(0,n.jsxs)("select",{value:s.time,onChange:e=>o({...s,time:e.target.value}),children:[(0,n.jsx)("option",{value:"hh:mm:ss",children:"hh:mm:ss"}),(0,n.jsx)("option",{value:"hh:mm",children:"hh:mm"})]})]})]})]}),document.getElementById("root"))]})};var I=i(8892);var E=i(7154);var H=i(9455);const T=e=>{let t,i,a={state:!1,showers:!1,rain:!1,snow:!1,thunder:!1,hail:!1};switch(e){case 0:t=(0,n.jsx)(H.yAK,{}),i="Clear Sky";break;case 1:t=(0,n.jsx)(H.yAK,{}),i="Mostly clear";break;case 2:t=(0,n.jsx)(H.Rc4,{}),i="Partially cloudy";break;case 3:t=(0,n.jsx)(H.Rc4,{}),i="Overcast";break;case 45:case 60:t=(0,n.jsx)(H.DeX,{}),i="Foggy";break;case 51:t=(0,n.jsx)(H.l9T,{}),i="Light Drizzle";break;case 53:t=(0,n.jsx)(H.l9T,{}),i="Moderate Drizzle";break;case 55:t=(0,n.jsx)(H.l9T,{}),i="Dense Drizzle";break;case 56:t=(0,n.jsx)(H.l9T,{}),i="Light Freezing Drizzle";break;case 57:t=(0,n.jsx)(H.l9T,{}),i="Dense Freezing Drizzle";break;case 61:t=(0,n.jsx)(H.vQE,{}),i="Light Rain";break;case 63:t=(0,n.jsx)(H.vQE,{}),i="Moderate Rain";break;case 65:t=(0,n.jsx)(H.vQE,{}),i="Heavy Rain",a={...a,state:!0,rain:!0};break;case 66:t=(0,n.jsx)(H.vQE,{}),i="Light Freezing Rain";break;case 67:t=(0,n.jsx)(H.vQE,{}),i="Heavy Freezing Rain",a={...a,state:!0,rain:!0};break;case 71:t=(0,n.jsx)(H.Kh_,{}),i="Light Snow";break;case 73:t=(0,n.jsx)(H.Kh_,{}),i="Moderate Snow";break;case 75:t=(0,n.jsx)(H.Kh_,{}),i="Heavy Snow",a={...a,state:!0,snow:!0};break;case 77:t=(0,n.jsx)(H.Kh_,{}),i="Snow Grains";break;case 80:t=(0,n.jsx)(H.vQE,{}),i="Light Showers";break;case 81:t=(0,n.jsx)(H.vQE,{}),i="Moderate Showers";break;case 82:t=(0,n.jsx)(H.vQE,{}),i="Violent Showers",a={...a,state:!0,showers:!0};break;case 85:t=(0,n.jsx)(H.Kh_,{}),i="Light Snow Showers";break;case 86:t=(0,n.jsx)(H.Kh_,{}),i="Heavy Snow Showers",a={...a,state:!0,snow:!0,showers:!0};break;case 95:t=(0,n.jsx)(H.m7c,{}),i="Thunderstorm",a={...a,state:!0,thunder:!0};break;case 96:t=(0,n.jsx)(H.m7c,{}),i="Thunderstorm with light Hail",a={...a,state:!0,thunder:!0,hail:!0};break;case 99:t=(0,n.jsx)(H.m7c,{}),i="Thunderstorm with heavy Hail",a={...a,state:!0,thunder:!0,hail:!0};break;default:t=(0,n.jsx)(H.Rc4,{}),i="Unknown"}return{icon:t,description:i,warning:a}};var O=i(2639);const W=e=>{let{units:t,setUnits:i}=e;return(0,n.jsxs)("weather-settings",{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"orangered"},children:(0,n.jsx)(M.L8R,{})}),"Temperature:"]}),(0,n.jsxs)("select",{value:t.temperature,onChange:e=>i({...t,temperature:e.target.value}),children:[(0,n.jsx)("option",{value:"\xb0C",children:"Celsius"}),(0,n.jsx)("option",{value:"\xb0F",children:"Fahrenheit"}),(0,n.jsx)("option",{value:"K",children:"Kelvin"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"cornflowerblue"},children:(0,n.jsx)(O.K1Y,{})}),"Precipitation:"]}),(0,n.jsxs)("select",{value:t.precipitation,onChange:e=>i({...t,precipitation:e.target.value}),children:[(0,n.jsx)("option",{value:"mm",children:"mm"}),(0,n.jsx)("option",{value:"in",children:"inch"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"turquoise"},children:(0,n.jsx)(M.YiW,{})}),"Wind Speed:"]}),(0,n.jsxs)("select",{value:t.wind,onChange:e=>i({...t,wind:e.target.value}),children:[(0,n.jsx)("option",{value:"km/h",children:"km/h"}),(0,n.jsx)("option",{value:"mph",children:"mph"}),(0,n.jsx)("option",{value:"m/s",children:"m/s"}),(0,n.jsx)("option",{value:"ft/s",children:"ft/s"}),(0,n.jsx)("option",{value:"knots",children:"knots"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"silver"},children:(0,n.jsx)(H.Q7r,{})}),"Pressure:"]}),(0,n.jsxs)("select",{value:t.pressure,onChange:e=>i({...t,pressure:e.target.value}),children:[(0,n.jsx)("option",{value:"hpa",children:"hectoPascal"}),(0,n.jsx)("option",{value:"psi",children:"PSI"}),(0,n.jsx)("option",{value:"inHg",children:"inHg"}),(0,n.jsx)("option",{value:"mmHg",children:"mmHg"}),(0,n.jsx)("option",{value:"atm",children:"Atmosphere"})]})]})]})};var R=i(9463),N=i(5351),B=i(7160),K=i(2554),U=i(9312);i(3976);const Y=e=>{let{latitude:t,longitude:i}=e;return(0,U.n0)(),(0,a.useEffect)((()=>{let e=[0,0];t&&i&&(e=[i,t]);const a=new R.A({target:"map",layers:[new B.A({source:new K.A})],view:new N.Ay({center:e,zoom:12})});return()=>{a.setTarget(null)}}),[t,i]),(0,n.jsx)("div",{id:"map",style:{width:"100%",height:"100%"}})},G=e=>{let{location:t,setLocation:i,widgetState:r,setWidgetState:s}=e;const o=(0,a.useRef)(null),[l,c]=(0,a.useState)(structuredClone(t)),[d,u]=(0,a.useState)(""),[h,p]=(0,a.useState)([]),[m,y]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{c(t)}),[t]),(0,a.useEffect)((()=>{!function(e,t){const i="https://geocoding-api.open-meteo.com/v1/search?name=".concat(e);E.A.get(i).then((e=>{void 0!==e.data.results?t(e.data.results):t([])})).catch((e=>{console.log(e)}))}(d,p)}),[d]),(0,n.jsxs)("weather-location",{children:[(0,n.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:"12px",background:"black"},children:[(0,n.jsx)(M.sIY,{})," ","Done"===r?(0,n.jsxs)(n.Fragment,{children:["Code"===t.source&&(0,n.jsxs)(n.Fragment,{children:[t.location.name," ",(0,n.jsx)(I.xJ,{height:"15",countryCode:t.location.country_code})]}),"Coords"===t.source&&"Lat: ".concat(t.lat,", Long: ").concat(t.long),"GPS"===t.source&&"GPS Location"]}):"Set Location"]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},children:[(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("button",{style:{flexDirection:"row",justifyContent:"space-evenly",width:"100%",border:"1px silver solid",borderRadius:"5px"},onClick:()=>i({...l,status:"Success"}),children:[(0,n.jsx)(M.QpL,{}),"Confirm / Update"]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["Source:",(0,n.jsxs)("select",{value:l.source,onChange:e=>{c({...t,source:e.target.value}),s(e.target.value)},children:[(0,n.jsx)("option",{value:"empty",children:"None"}),(0,n.jsx)("option",{value:"GPS",children:"GPS"}),(0,n.jsx)("option",{value:"Code",children:"Location"}),(0,n.jsx)("option",{value:"Coords",children:"Coordinates"})]})]}),(0,n.jsxs)("weather-search-container",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontSize:"16px",width:"100%"},children:[(0,n.jsx)(x.KSO,{}),(0,n.jsxs)("search",{onBlur:()=>y(!1),children:[(0,n.jsx)("input",{ref:o,type:"text",style:{width:"120px"},value:d,onClick:()=>y(!0),onChange:e=>u(e.target.value),disabled:"Code"!==l.source}),(0,n.jsx)("div",{style:{position:"absolute",display:"flex",flexDirection:"column",zIndex:1,background:"black",overflowY:"scroll",maxHeight:"200px",border:"1px solid gray",visibility:h.length>0&&m?"visible":"hidden"},children:h.length>0&&h.map(((e,t)=>(0,n.jsxs)("button",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start",fontSize:"12px",border:"1px solid gray",width:"100px"},onClick:()=>(e=>{o.current.focus(),c({lat:h[e].latitude,long:h[e].longitude,alt:h[e].elevation,location:{name:h[e].name,country:h[e].country,country_code:h[e].country_code.toLowerCase()},source:"Code",status:"Success"}),u(h[e].name)})(t),children:[h[t].name,(0,n.jsx)(I.xJ,{height:"15",countryCode:h[t].country_code.toLowerCase()})]},t+"weatherSearchSelect")))})]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",marginLeft:"10px"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-betwen",fontSize:"14px",width:"100%",borderBottom:"1px solid gray"},children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"start",width:"100%"},children:"Latitude:"}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"end",width:"100%"},children:(0,n.jsx)("input",{style:{width:"70px"},type:"number",value:l.lat,disabled:"Coords"!==l.source,onChange:e=>c({...l,lat:e.target.value})})})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-betwen",fontSize:"14px",width:"100%",borderBottom:"1px solid gray"},children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"start",width:"100%"},children:"Longitude:"}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"end",width:"100%"},children:(0,n.jsx)("input",{style:{width:"70px"},type:"number",value:l.long,disabled:"Coords"!==l.source,onChange:e=>c({...l,long:e.target.value})})})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-betwen",fontSize:"14px",width:"100%"},children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"start",width:"100%"},children:"Altitude:"}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"end",width:"100%"},children:(0,n.jsx)("input",{style:{width:"70px"},type:"number",value:l.alt,disabled:!0})})]})]})]}),(0,n.jsx)("weather-map-container",{children:(0,n.jsx)(Y,{latitude:l.lat,longitude:l.long})})]})},V=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)([]);return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{let e=[];for(let i=0;i<7;i++)e.push(T(t.daily.weather_code[i]));s(e)}),[t]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("weather-page-summary",{children:r.map(((e,i)=>(0,n.jsxs)("weather-page-summary-card",{children:[(0,n.jsx)("weather-page-summary-card-date",{children:t.daily.time[i]}),(0,n.jsxs)("weather-page-summary-card-summary",{children:[(0,n.jsx)("weather-param-icon",{title:"Weather Icon","aria-label":"Weather Icon",children:e.icon}),(0,n.jsx)("div",{title:"Weather Description","aria-label":"Weather Description",children:e.description})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"Temperature","aria-label":"Temperature",style:{color:"orangered"},children:(0,n.jsx)(M.L8R,{})}),(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("div",{title:"Max Temperature","aria-label":"Max Temperature",children:["Max:"," ",t.daily.temperature_2m_max[i],t.daily_units.temperature_2m_max]}),(0,n.jsxs)("div",{title:"Min Temperature","aria-label":"Min Temperature",children:["Min:"," ",t.daily.temperature_2m_min[i],t.daily_units.temperature_2m_min]})]})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsxs)("weather-param-icon",{title:"Wind","aria-label":"Wind",children:[(0,n.jsx)("div",{style:{color:"turquoise"},children:(0,n.jsx)(M.YiW,{})}),(0,n.jsx)("div",{style:{rotate:"".concat(t.daily.wind_direction_10m_dominant[i],"deg")},children:(0,n.jsx)(x.$TP,{})})]}),(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("div",{title:"Max Wind Speed","aria-label":"Max Wind Speed",children:["Speed:"," ",t.daily.windspeed_10m_max[i]," ",t.daily_units.windspeed_10m_max]}),(0,n.jsxs)("div",{title:"Max Wind Gust","aria-label":"Max Wind Gust",children:["Gust:"," ",t.daily.windgusts_10m_max[i]," ",t.daily_units.windgusts_10m_max]}),(0,n.jsxs)("div",{title:"Wind Direction","aria-label":"Wind Direction",children:["Direction:"," ",t.daily.wind_direction_10m_dominant[i],t.daily_units.wind_direction_10m_dominant," "]})]})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"Precipitation","aria-label":"Precipitation",style:{color:"deepskyblue"},children:(0,n.jsx)(O.K1Y,{})}),(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("div",{title:"Precipitation Total","aria-label":"Precipitation Total",children:["Total: ",t.daily.precipitation_sum[i],t.daily_units.precipitation_sum]}),(0,n.jsxs)("div",{title:"Precipitation Probability","aria-label":"Precipitation Probability",children:["Probability:",t.daily.precipitation_probability_mean[i],t.daily_units.precipitation_probability_mean]})]})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"UV Index","aria-label":"UV Index",style:{color:"violet"},children:(0,n.jsx)(M.wQq,{})}),(0,n.jsxs)("div",{title:"UV Index","aria-label":"UV Index",children:["UV Index: ",t.daily.uv_index_clear_sky_max[i]]})]})]},i)))})}))};var X=i(7732),Q=i(6058),q=i(461);const J=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)(null),[o,l]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:t.hourly_units.temperature_2m},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return X.Ay.register(q.PP),null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{s({labels:t.hourly.time,datasets:[{label:"Real",data:t.hourly.temperature_2m,fill:!1,borderColor:"red",tension:.1},{label:"Feel",data:t.hourly.apparent_temperature,fill:!1,borderColor:"orange",tension:.1}]})}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==r&&(0,n.jsx)(Q.N1,{data:r,options:o})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("colgroup",{children:(0,n.jsx)("col",{span:1,style:{width:"45px"}})}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(255, 0, 0, 0.25)"},children:"(R)Max"}),t.daily.temperature_2m_max.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(255, 0, 0, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:"(R)Min"}),t.daily.temperature_2m_min.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(255, 152, 0, 0.25)"},children:"(F)Max"}),t.daily.apparent_temperature_max.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(255, 152, 0, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:"(F)Min"}),t.daily.apparent_temperature_min.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:e},t)))]})]})]})]}))},$=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)(null),[o,l]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:t.hourly_units.precipitation},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{s({labels:t.hourly.time,datasets:[{label:"Rain",data:t.hourly.rain,fill:!1,borderColor:"cyan",tension:.1},{label:"Showers",data:t.hourly.showers,fill:!1,borderColor:"aquamarine",tension:.1},{label:"Snow",data:t.hourly.snowfall,fill:!1,borderColor:"silver",tension:.1}]})}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==r&&(0,n.jsx)(Q.N1,{data:r,options:o})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("colgroup",{children:(0,n.jsx)("col",{span:1,style:{width:"45px"}})}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 0, 255, 0.25)"},children:"Probability"}),t.daily.precipitation_probability_mean.map(((e,i)=>(0,n.jsxs)("td",{style:{background:"rgba(0, 0, 255, 0.25)"},children:[e,t.daily_units.precipitation_probability_mean]},i)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{style:{background:"rgba(30, 144, 255, 0.25)"},children:["Total","(",t.daily_units.precipitation_sum,")"]}),t.daily.precipitation_sum.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(30, 144, 255, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{style:{background:"rgba(0, 255, 255, 0.25)"},children:["Rain","(",t.daily_units.rain_sum,")"]}),t.daily.rain_sum.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(0, 255, 255, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{style:{background:"rgba(128, 255, 255, 0.25)"},children:["Showers","(",t.daily_units.showers_sum,")"]}),t.daily.showers_sum.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(128, 255, 255, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{style:{background:"rgba(255, 255, 255, 0.25)"},children:["Snow","(",t.daily_units.snowfall_sum,")"]}),t.daily.snowfall_sum.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(255, 255, 255, 0.25)"},children:e},t)))]})]})]})]}))},Z=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)(null),[o,l]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:t.hourly_units.windspeed_10m},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{s({labels:t.hourly.time,datasets:[{label:"Speed",data:t.hourly.windspeed_10m,fill:!1,borderColor:"aquamarine",tension:.1},{label:"Gusts",data:t.hourly.wind_gusts_10m,fill:!1,borderColor:"cyan",tension:.1}]})}),[t,i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==r&&(0,n.jsx)(Q.N1,{data:r,options:o})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("colgroup",{children:(0,n.jsx)("col",{span:1,style:{width:"45px"}})}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(127, 255, 212,0.25)"},children:"Max Speed"}),t.daily.windspeed_10m_max.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(127, 255, 212,0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 255, 255, 0.25)"},children:"Max Gust"}),t.daily.windgusts_10m_max.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(0, 255, 255, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:"Main Dir"}),t.daily.wind_direction_10m_dominant.map(((e,i)=>(0,n.jsxs)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:[e,t.daily_units.wind_direction_10m_dominant,(0,n.jsx)("div",{style:{rotate:"".concat(t.daily.wind_direction_10m_dominant[i],"deg")},children:(0,n.jsx)(x.$TP,{})})]},i)))]})]})]})]}))},ee=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Percentage"},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{let e=[],i=[],a=0;for(let r=0;r<7;r++)a=0===r?0:1,i.push(Math.max.apply(Math,t.hourly.relativehumidity_2m.slice(24*r-a,24*(r+1)-1))),e.push(Math.min.apply(Math,t.hourly.relativehumidity_2m.slice(24*r-a,24*(r+1)-1)));l(i),s(e),d({labels:t.hourly.time,datasets:[{label:"Relative Humidity",data:t.hourly.relativehumidity_2m,fill:!1,borderColor:"cornflowerblue",tension:.1}]})}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==c&&(0,n.jsx)(Q.N1,{data:c,options:u})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("colgroup",{children:(0,n.jsx)("col",{span:1,style:{width:"45px"}})}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(255, 0, 0, 0.25)"},children:"Max"}),o.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(255, 0, 0, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:"Min"}),r.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:e},t)))]})]})]})]}))},te=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:t.hourly_units.surface_pressure},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{let e=[],i=[],a=0;for(let r=0;r<7;r++)a=0===r?0:1,i.push(Math.max.apply(Math,t.hourly.surface_pressure.slice(24*r-a,24*(r+1)-1))),e.push(Math.min.apply(Math,t.hourly.surface_pressure.slice(24*r-a,24*(r+1)-1)));l(i),s(e),d({labels:t.hourly.time,datasets:[{label:"Surface Pressure",data:t.hourly.surface_pressure,fill:!1,borderColor:"lightskyblue",tension:.1}]})}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==c&&(0,n.jsx)(Q.N1,{data:c,options:u})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsxs)("tbody",{style:{fontSize:"11px"},children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(255, 0, 0, 0.25)"},children:"Max"}),o.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(255, 0, 0, 0.25)"},children:e},t)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:"Min"}),r.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(0, 187, 255, 0.25)"},children:e},t)))]})]})]})]}))},ie=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Percentage"},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{let e=[],i=[],a=0;for(let r=0;r<7;r++)a=0===r?0:1,i.push(Math.max.apply(Math,t.hourly.cloudcover.slice(24*r-a,24*(r+1)-1))),e.push(Math.min.apply(Math,t.hourly.cloudcover.slice(24*r-a,24*(r+1)-1)));l(i),s(e),d({labels:t.hourly.time,datasets:[{label:"Cloud Coverage",data:t.hourly.cloudcover,fill:!1,borderColor:"silver",tension:.1}]})}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==c&&(0,n.jsx)(Q.N1,{data:c,options:u})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("colgroup",{children:(0,n.jsx)("col",{span:1,style:{width:"45px"}})}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(255, 255, 255, 0.25)"},children:"Max"}),o.map(((e,i)=>(0,n.jsxs)("td",{style:{background:"rgba(255, 255, 255, 0.25)"},children:[e,t.hourly_units.cloudcover]},i)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(0, 0, 0, 0.25)"},children:"Min"}),r.map(((e,i)=>(0,n.jsxs)("td",{style:{background:"rgba(0, 0, 0, 0.25)"},children:[e,t.hourly_units.cloudcover]},i)))]})]})]})]}))},ae=e=>{let{weatherData:t,currentHour:i}=e;const[r,s]=(0,a.useState)(0),[o,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)({responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"UV Index"},grid:{color:"rgba(255,255,255,0.2)"}},x:{title:{display:!0,text:"Hour"},display:!1,grid:{color:"rgba(255,255,255,0.2)"}}}});return null===t?(0,n.jsx)(n.Fragment,{}):((0,a.useEffect)((()=>{l(Math.max.apply(Math,t.hourly.uv_index.slice(0,23))),s(Math.min.apply(Math,t.hourly.uv_index.slice(0,23))),d({labels:t.hourly.time,datasets:[{label:"UV Index",data:t.hourly.uv_index,fill:!1,borderColor:"violet",tension:.1}]})}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("weather-page-chart",{children:null!==c&&(0,n.jsx)(Q.N1,{data:c,options:u})}),(0,n.jsxs)("table",{children:[(0,n.jsx)("colgroup",{children:(0,n.jsx)("col",{span:1,style:{width:"45px"}})}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Day"}),t.daily.time.map(((e,t)=>(0,n.jsx)("th",{children:e.slice(8,10)},t)))]})}),(0,n.jsx)("tbody",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{background:"rgba(238, 130, 238,0.25)"},children:"Max Clear Sky"}),t.daily.uv_index_clear_sky_max.map(((e,t)=>(0,n.jsx)("td",{style:{background:"rgba(238, 130, 238,0.25)"},children:e},t)))]})})]})]}))},re=(e,t,i,a)=>{switch(e){case"Temperature":switch(t){case"\xb0C":switch(i){case"\xb0C":return a;case"\xb0F":return(9*a/5+32).toFixed(1);case"K":return(a+273.15).toFixed(1)}case"\xb0F":switch(i){case"\xb0C":return(5*(a-32)/9).toFixed(1);case"\xb0F":return a;case"K":return(5*(a-32)/9+273.15).toFixed(1)}case"K":switch(i){case"\xb0C":return(a-273.15).toFixed(1);case"\xb0F":return(9*(a-273.15)/5+32).toFixed(1);case"K":return a}}case"Precipitation":switch(t){case"mm":switch(i){case"mm":return a;case"in":return(a/25.4).toFixed(3)}case"in":switch(i){case"mm":return(25.4*a).toFixed(1);case"in":return a}}case"Wind":switch(t){case"km/h":switch(i){case"km/h":return a;case"mph":return(a/1.60934).toFixed(1);case"m/s":return(a/3.6).toFixed(1);case"ft/s":return(a/.44704).toFixed(1);case"knots":return(a/1.852).toFixed(1)}case"mph":switch(i){case"km/h":return(1.60934*a).toFixed(1);case"mph":return a;case"m/s":return(.44704*a).toFixed(1);case"ft/s":return(.868976*a).toFixed(1);case"knots":return(a/1.15078).toFixed(1)}case"m/s":switch(i){case"km/h":return(3.6*a).toFixed(1);case"mph":return(2.23694*a).toFixed(1);case"m/s":return a;case"ft/s":return(3.28084*a).toFixed(1);case"knots":return(a/.51444).toFixed(1)}case"ft/s":switch(i){case"km/h":return(.44704*a).toFixed(1);case"mph":return(.868976*a).toFixed(1);case"m/s":return(.3048*a).toFixed(1);case"ft/s":return a;case"knots":return(a/1.68781).toFixed(1)}case"knots":switch(i){case"km/h":return(1.852*a).toFixed(1);case"mph":return(1.15078*a).toFixed(1);case"m/s":return(.51444*a).toFixed(1);case"ft/s":return(1.68781*a).toFixed(1);case"knots":return a}}case"Pressure":switch(t){case"hPa":switch(i){case"hPa":return a;case"psi":return a/68.9475729;case"mmHg":return a/133.322368;case"inHg":return a/3386.38;case"atm":return a/1013.25}case"psi":switch(i){case"hPa":return 68.9475729*a;case"psi":return a;case"mmHg":return 6.89475729*a;case"inHg":return.0689475729*a;case"atm":return a/14.6959487751941}case"mmHg":switch(i){case"hPa":return 133.322368*a;case"psi":return.0680459637*a;case"mmHg":return a;case"inHg":return a/25.4;case"atm":return a/760}case"inHg":switch(i){case"hPa":return 3386.38*a;case"psi":return.491154*a;case"mmHg":return 25.4*a;case"inHg":return a;case"atm":return a/29.92126}case"atm":switch(i){case"hPa":return 1013.25*a;case"psi":return 14.6959487751941*a;case"mmHg":return 760*a;case"inHg":return 29.92126*a;case"atm":return a}}default:return a}},ne=e=>{let{contextMenu:t,setShowWeather:i}=e;const r=(0,a.useRef)(null),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({lat:0,long:0,alt:0,location:{name:"",country:"",country_code:""},source:"empty",status:"empty"}),[p,m]=(0,a.useState)("Now"),[y,j]=(0,a.useState)("none"),[g,b]=(0,a.useState)(null),[w,_]=(0,a.useState)(null),[f,v]=(0,a.useState)(null),[S,k]=(0,a.useState)(null),[C,z]=(0,a.useState)({temperature:"\xb0C",precipitation:"mm",wind:"km/h",pressure:"hPa"}),[D,P]=(0,a.useState)(null),[F,L]=(0,a.useState)(0),A=[{name:"Location",component:(0,n.jsx)(G,{location:d,setLocation:u,widgetState:y,setWidgetState:j}),icon:(0,n.jsx)(M.sIY,{}),color:"silver"},{name:"Settings",component:(0,n.jsx)(W,{units:C,setUnits:z}),icon:(0,n.jsx)(M.XGb,{}),color:"silver"},{name:"Daily Summary",component:(0,n.jsx)(V,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(x.oX2,{}),color:"white"},{name:"Temperature",component:(0,n.jsx)(J,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(M.L8R,{}),color:"orangered"},{name:"Humidity",component:(0,n.jsx)(ee,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(M.WfR,{}),color:"cornflowerblue"},{name:"Pressure",component:(0,n.jsx)(te,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(H.Q7r,{}),color:"lightskyblue"},{name:"Precipitation",component:(0,n.jsx)($,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(O.K1Y,{}),color:"dodgerblue"},{name:"Wind Max",component:(0,n.jsx)(Z,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(M.YiW,{}),color:"turquoise"},{name:"Cloud Cover",component:(0,n.jsx)(ie,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(M.tmj,{}),color:"silver"},{name:"Ultra Violet",component:(0,n.jsx)(ae,{weatherData:l,currentHour:g}),icon:(0,n.jsx)(M.wQq,{}),color:"violet"}],I=e=>{null!==l&&(F+e<2?L(Object.keys(A).length-1):F+e>=Object.keys(A).length?L(2):L(F+e))};(0,a.useEffect)((()=>{s&&r.current.focus()}),[s]),(0,a.useEffect)((()=>{"GPS"===d.source&&((e,t)=>{navigator.geolocation?(t({...e,status:"Locating..."}),navigator.geolocation.getCurrentPosition((function(i){t({...e,lat:i.coords.latitude,long:i.coords.longitude,alt:i.coords.altitude,location:{name:"",country:"",country_code:""},source:"GPS",status:"Success"})}),(function(){t({...e,status:"Gelocation Unavalable"})}))):t({...e,status:"Gelocation Unavalable in browser"})})(d,u)}),[y]),(0,a.useEffect)((()=>{"Success"===d.status&&(j("Comunicating"),function(e,t){let i="https://api.open-meteo.com/v1/forecast?latitude=".concat(e.lat,"&longitude=").concat(e.long,"&hourly=temperature_2m,apparent_temperature,relativehumidity_2m,windspeed_10m,winddirection_10m,wind_gusts_10m,cloudcover,surface_pressure,rain,showers,snowfall,precipitation,precipitation_probability,visibility,uv_index,weathercode&daily=temperature_2m_max,temperature_2m_min,apparent_temperature_max,apparent_temperature_min,rain_sum,showers_sum,snowfall_sum,precipitation_sum,precipitation_hours,precipitation_probability_mean,windspeed_10m_max,windgusts_10m_max,wind_direction_10m_dominant,uv_index_clear_sky_max,weather_code&timezone=auto");null!==e.alt&&(i="https://api.open-meteo.com/v1/forecast?elevation=".concat(e.alt,"&latitude=").concat(e.lat,"&longitude=").concat(e.long,"&hourly=temperature_2m,apparent_temperature,relativehumidity_2m,windspeed_10m,winddirection_10m,wind_gusts_10m,cloudcover,surface_pressure,rain,showers,snowfall,precipitation,precipitation_probability,visibility,uv_index,weathercode&daily=temperature_2m_max,temperature_2m_min,apparent_temperature_max,apparent_temperature_min,rain_sum,showers_sum,snowfall_sum,precipitation_sum,precipitation_hours,precipitation_probability_mean,windspeed_10m_max,windgusts_10m_max,wind_direction_10m_dominant,uv_index_clear_sky_max,weather_code&timezone=auto")),E.A.get(i).then((e=>{t(e.data)})).catch((e=>{t(null),console.log(e)}))}(d,c))}),[d]),(0,a.useEffect)((()=>{let e=new Date,t=60-e.getMinutes();b(e.getHours()),setTimeout((()=>{b(e.getHours())}),{milliseconds:60*t*1e3})}),[l,g]),(0,a.useEffect)((()=>{if(null!==l){j("Sorting Data");let e=l;for(let t=0;t<l.hourly.time.length;t++)e.hourly.snowfall[t]*=10;e.hourly_units.snowfall=C.precipitation;for(let t=0;t<l.daily.time.length;t++)e.daily.snowfall_sum[t]*=10;e.daily_units.snowfall_sum=C.precipitation,c(e),P(l.hourly.time.findIndex((e=>parseInt(e.substring(11,13))===g))),v(l.hourly),k(l.daily)}}),[g,l]),(0,a.useEffect)((()=>{null!==l&&((e,t,i)=>{let a=e;if(i.temperature!==e.hourly_units.temperature_2m){let t=[],r=[],n=[],s=[],o=[],l=[];for(let a=0;a<e.hourly.time.length;a++)o.push(re("Temperature",e.hourly_units.temperature_2m,i.temperature,e.hourly.temperature_2m[a])),l.push(re("Temperature",e.hourly_units.apparent_temperature,i.temperature,e.hourly.apparent_temperature[a]));a.hourly.temperature_2m=o,a.hourly.apparent_temperature=l,a.hourly_units.temperature_2m=i.temperature,a.hourly_units.apparent_temperature=i.temperature;for(let a=0;a<e.daily.time.length;a++)t.push(re("Temperature",e.daily_units.temperature_2m_max,i.temperature,e.daily.temperature_2m_max[a])),r.push(re("Temperature",e.daily_units.temperature_2m_min,i.temperature,e.daily.temperature_2m_min[a])),n.push(re("Temperature",e.daily_units.apparent_temperature_max,i.temperature,e.daily.apparent_temperature_max[a])),s.push(re("Temperature",e.daily_units.apparent_temperature_min,i.temperature,e.daily.apparent_temperature_min[a]));a.daily.temperature_2m_max=t,a.daily.temperature_2m_min=r,a.daily.apparent_temperature_max=n,a.daily.apparent_temperature_min=s,a.daily_units.temperature_2m_max=i.temperature,a.daily_units.temperature_2m_min=i.temperature,a.daily_units.apparent_temperature_max=i.temperature,a.daily_units.apparent_temperature_min=i.temperature}if(i.precipitation!==e.hourly_units.precipitation){let t=[],r=[],n=[],s=[],o=[],l=[],c=[],d=[];for(let a=0;a<e.hourly.time.length;a++)o.push(re("Precipitation",e.hourly_units.precipitation,i.precipitation,e.hourly.precipitation[a])),l.push(re("Precipitation",e.hourly_units.precipitation,i.precipitation,e.hourly.rain[a])),c.push(re("Precipitation",e.hourly_units.precipitation,i.precipitation,e.hourly.showers[a])),d.push(re("Precipitation",e.hourly_units.precipitation,i.precipitation,e.hourly.snowfall[a]));a.hourly.precipitation=o,a.hourly.rain=l,a.hourly.showers=c,a.hourly.snowfall=d,a.hourly_units.precipitation=i.precipitation,a.hourly_units.rain=i.precipitation,a.hourly_units.showers=i.precipitation,a.hourly_units.snowfall=i.precipitation;for(let a=0;a<e.daily.time.length;a++)t.push(re("Precipitation",e.daily_units.precipitation_sum,i.precipitation,e.daily.precipitation_sum[a])),r.push(re("Precipitation",e.daily_units.rain_sum,i.precipitation,e.daily.rain_sum[a])),n.push(re("Precipitation",e.daily_units.showers_sum,i.precipitation,e.daily.showers_sum[a])),s.push(re("Precipitation",e.daily_units.snowfall_sum,i.precipitation,e.daily.snowfall_sum[a]));a.daily.precipitation_sum=t,a.daily.rain_sum=r,a.daily.showers_sum=n,a.daily.snowfall_sum=s,a.daily_units.precipitation_sum=i.precipitation,a.daily_units.rain_sum=i.precipitation,a.daily_units.showers_sum=i.precipitation,a.daily_units.snowfall_sum=i.precipitation}if(i.wind!==e.hourly_units.wind_speed_10m){let t=[],r=[],n=[],s=[];for(let a=0;a<e.hourly.time.length;a++)n.push(re("Wind",e.hourly_units.windspeed_10m,i.wind,e.hourly.windspeed_10m[a])),s.push(re("Wind",e.hourly_units.wind_gusts_10m,i.wind,e.hourly.wind_gusts_10m[a]));a.hourly.windspeed_10m=n,a.hourly.wind_gusts_10m=s,a.hourly_units.windspeed_10m=i.wind,a.hourly_units.wind_gusts_10m=i.wind;for(let a=0;a<e.daily.time.length;a++)t.push(re("Wind",e.daily_units.windspeed_10m_max,i.wind,e.daily.windspeed_10m_max[a])),r.push(re("Wind",e.daily_units.windgusts_10m_max,i.wind,e.daily.windgusts_10m_max[a]));a.daily.windspeed_10m_max=t,a.daily.windgusts_10m_max=r,a.daily_units.windspeed_10m_max=i.wind,a.daily_units.windgusts_10m_max=i.wind}t(a)})(l,c,C)}),[l,C]),(0,a.useEffect)((()=>{console.log(w),null!==D&&j("Done")}),[S,f,D,p]);return(0,a.useEffect)((()=>{console.log(y)}),[y]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("taskbar-weather",{children:(0,n.jsx)("button",{onClick:()=>o(!s),onContextMenu:e=>(e=>{e.preventDefault();let a={Settings:{action:()=>{o(!0),L(1)}},Location:{action:()=>{o(!0),L(0)}},LineBreak:{},Hide:{action:()=>{i(!1)},checkbox:!0}};t.setOpen(),t.setPosition(e.clientX,e.clientY),t.setContent(a)})(e),children:null===l?(0,n.jsx)(H.Pf,{}):(0,n.jsxs)(n.Fragment,{children:[T(l.hourly.weathercode[g]).icon,l.hourly.temperature_2m[g],l.hourly_units.temperature_2m]})})}),s&&(0,h.createPortal)((0,n.jsxs)("weather-details",{ref:r,onBlur:e=>{var t;(t=e).currentTarget.contains(t.relatedTarget)||o(!1)},tabIndex:"0",children:[(0,n.jsxs)("weather-header",{children:[(0,n.jsx)("weather-header-now",{children:null===l?(0,n.jsxs)("weather-header-unknown",{children:[(0,n.jsx)(H.Pf,{})," Weather"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("weather-header-summary",{children:[(0,n.jsx)("div",{style:{fontSize:"45px",height:"45px"},children:T(l.hourly.weathercode[g]).icon}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",width:"100%"},children:T(l.hourly.weathercode[g]).description})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"Cloud Cover","aria-label":"Cloud Cover",style:{color:"silver"},children:(0,n.jsx)(M.tmj,{})}),(0,n.jsxs)("div",{title:"Cloud Cover","aria-label":"Cloud Cover",children:["Cloud Cover: ",l.hourly.cloudcover[g],l.hourly_units.cloudcover]})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"UV Index","aria-label":"UV Index",style:{color:"violet"},children:(0,n.jsx)(M.wQq,{})}),(0,n.jsxs)("div",{title:"UV Index","aria-label":"UV Index",children:["UV Index: ",l.hourly.uv_index[g],l.hourly_units.uv_index]})]})]}),(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"Temperature","aria-label":"Temperature",style:{color:"orangered"},children:(0,n.jsx)(M.L8R,{})}),(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("div",{title:"Real Temperature","aria-label":"Real Temperature",children:["Real:"," ",l.hourly.temperature_2m[g],l.hourly_units.temperature_2m]}),(0,n.jsxs)("div",{title:"Feel Temperature","aria-label":"Feel Temperature",children:["Feel:"," ",l.hourly.apparent_temperature[g],l.hourly_units.apparent_temperature]})]})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsx)("weather-param-icon",{title:"Relatice Humidity","aria-label":"Relatice Humidity",style:{color:"cornflowerblue"},children:(0,n.jsx)(M.WfR,{})}),(0,n.jsxs)("div",{title:"Relatice Humidity","aria-label":"Relatice Humidity",children:["Humidity: ",l.hourly.relativehumidity_2m[g],l.hourly_units.relativehumidity_2m]})]}),(0,n.jsxs)("weather-param",{children:[(0,n.jsxs)("weather-param-icon",{title:"Wind","aria-label":"Wind",children:[(0,n.jsx)("div",{title:"Wind","aria-label":"Wind",style:{color:"turquoise"},children:(0,n.jsx)(M.YiW,{})}),(0,n.jsx)("div",{style:{color:"silver",rotate:"".concat(l.hourly.winddirection_10m[g],"deg")},children:(0,n.jsx)(x.$TP,{})})]}),(0,n.jsxs)("flex-column-start",{children:[(0,n.jsxs)("div",{title:"Wind Speed","aria-label":"Wind Speed",children:["Speed:"," ",l.hourly.windspeed_10m[g]," ",l.hourly_units.windspeed_10m]}),(0,n.jsxs)("div",{title:"Wind Gust","aria-label":" Wind Gust",children:["Gust:"," ",l.hourly.wind_gusts_10m[g]," ",l.hourly_units.wind_gusts_10m]}),(0,n.jsxs)("div",{title:"Wind Direction","aria-label":"Wind Direction",children:["Direction:"," ",l.hourly.winddirection_10m[g],l.hourly_units.winddirection_10m]})]})]})]})]})}),(0,n.jsxs)("weather-header-curr-page",{children:[(0,n.jsx)("button",{onClick:()=>{L(0===F?2:0)},className:0===F?"buttonActive":"",children:(0,n.jsx)(M.sIY,{})}),(0,n.jsx)("button",{onClick:()=>I(-1),disabled:null===l||F<2,children:(0,n.jsx)(x.QVr,{})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{paddingRight:"5px",color:A[F].color},children:A[F].icon})," ",A[F].name]}),(0,n.jsx)("button",{onClick:()=>I(1),disabled:null===l||F<2,children:(0,n.jsx)(x.Z0P,{})}),(0,n.jsx)("button",{onClick:()=>{L(1===F?2:1)},className:1===F?"buttonActive":"",children:(0,n.jsx)(M.XGb,{})})]})]}),(0,n.jsxs)("weather-body",{children:[(0,n.jsx)("weather-page",{children:A[F].component}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]}),(0,n.jsx)("weather-footer",{children:(0,n.jsx)("a",{href:"https://open-meteo.com/",target:"_blank",children:"Data by Open-Meteo \xa9"})})]}),document.getElementById("root"))]})};function se(){const[e,t]=(0,a.useState)(!0),[i,r]=(0,a.useState)(!0),o=(0,a.useContext)(c),l=(0,a.useContext)(s);return(0,n.jsxs)("task-bar",{onContextMenu:a=>(a=>{let n;a.preventDefault();let s=!1;"task-bar"!==a.target.localName&&"live-apps"!==a.target.localName||(s=!0,n={"Show Time":{action:()=>{r(!i)},checkbox:i},"Show Weather":{action:()=>{t(!e)},checkbox:e},LineBreak:{},Personalize:{action:()=>{l.setOpen("Definitions")}}}),s&&(o.setOpen(),o.setPosition(a.clientX,a.clientY),o.setContent(n))})(a),children:[(0,n.jsx)(P,{}),(0,n.jsx)(F,{}),e&&(0,n.jsx)(ne,{contextMenu:o,setShowWeather:t}),i&&e&&(0,n.jsx)("vertical-rect",{}),i&&(0,n.jsx)(A,{contextMenu:o,setShowClock:r})]})}function oe(){const e=(0,a.useContext)(c),t=(0,a.useRef)(null),[i,r]=(0,a.useState)({top:0,left:0});(0,a.useEffect)((()=>{window.innerHeight>e.position.y+200&&window.innerWidth>e.position.x+200?r({top:e.position.y,left:e.position.x}):window.innerHeight>e.position.y+200&&window.innerWidth<e.position.x+200?r({top:e.position.y,right:window.innerWidth-e.position.x}):window.innerHeight<e.position.y+200&&window.innerWidth>e.position.x+200?r({bottom:window.innerHeight-e.position.y,left:e.position.x}):window.innerHeight<e.position.y+200&&window.innerWidth<e.position.x+200&&r({bottom:window.innerHeight-e.position.y,right:window.innerWidth-e.position.x})}),[e.position,e.orientation]),(0,a.useEffect)((()=>{e.isOpen&&t.current.focus()}),[e.isOpen]);return e.isOpen?(0,n.jsx)("context-menu",{tabindex:"0",ref:t,style:i,onBlur:t=>{var i;(i=t).currentTarget.contains(i.relatedTarget)||e.setClose()},onClick:()=>{e.setClose()},onContextMenu:t=>{t.preventDefault(),e.setClose()},children:Object.keys(e.content).map(((t,i)=>"LineBreak"!==t.slice(0,9)?(0,n.jsxs)("button",{onClick:e.content[t].action,disabled:e.content[t].disabled,children:[(0,n.jsx)("div",{children:t}),(0,n.jsx)("span",{}),void 0!==e.content[t].checkbox?(0,n.jsx)("input",{type:"checkbox",checked:e.content[t].checkbox,readOnly:!0}):null,void 0!==e.content[t].keybind?(0,n.jsx)("kbd",{children:e.content[t].keybind}):null,void 0!==e.content[t].radio?(0,n.jsx)("input",{type:"radio",name:t,checked:e.content[t].radio,readOnly:!0}):null]},i):(0,n.jsx)("hr",{},i)))}):null}function le(){const e=(0,a.useContext)(l.Al),t=(0,a.useCallback)((0,a.lazy)((()=>Promise.all([i.e(646),i.e(368)]).then(i.bind(i,581)).catch((e=>(console.error(e),{default:()=>(0,n.jsx)(f,{errorMessage:"Failed to load 3d Scene"})}))))),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{fallback:(0,n.jsx)(f,{errorMessage:"Failed to load 3d Scene"}),children:(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(_,{message:"3D Scene"}),children:"scenario"===e.state.active&&(0,n.jsx)(t,{})})}),(0,n.jsx)(C,{}),(0,n.jsx)(se,{}),(0,n.jsx)(oe,{})]})}function ce(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o,{children:(0,n.jsx)(l.Ay,{children:(0,n.jsx)(d,{children:(0,n.jsx)(le,{})})})})})}},7915:()=>{},2928:(e,t,i)=>{var a={"./Arcade/icon.js":[2242,462,242],"./Calculator/icon.js":[3086,58,86],"./Definitions/icon.js":[9850,58,850],"./DrawDoc/icon.js":[7788,58,788]};function r(e){if(!i.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(i.e)).then((()=>i(r)))}r.keys=()=>Object.keys(a),r.id=2928,e.exports=r},289:(e,t,i)=>{var a={"./Arcade/index.jsx":[3600,462,600],"./Calculator/index.jsx":[3364,364],"./Definitions/index.jsx":[1061,58,646,664],"./DrawDoc/index.jsx":[9411,189,411]};function r(e){if(!i.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(i.e)).then((()=>i(r)))}r.keys=()=>Object.keys(a),r.id=289,e.exports=r},4167:(e,t,i)=>{"use strict";i.d(t,{Al:()=>n,Ay:()=>s});var a=i(5043),r=i(579);const n=(0,a.createContext)({state:{},setActive:()=>{},setColor:()=>{},setImage:()=>{},setShader:()=>{},setScenario:()=>{}});const s=function(e){let{children:t}=e;const[i,s]=(0,a.useState)({active:"color",color:{type:"color",color:"hsl(210, 100%, 34%)",gradient:{type:"linear",degree:0,color1:"hsl(210, 100%, 34%)",color2:"hsl(210, 100%, 34%)"}},image:{url:{},position:"top left",size:"auto",repeat:"no-repeat"},shader:{type:"none"},scenario:{stars:{isActive:!0,count:5e3},sun:{isActive:!0,azimuth:.25,inclination:.55,turbidity:.3,rayleight:.1,exposure:200},clouds:{isActive:!1},fog:{isActive:!0,color:"hsl(0, 0%, 100%)",near:100,far:1e3},ocean:{isActive:!0,color:"hsl(150, 100%, 6%)"},desert:{isActive:!0,color:"hsl(0, 0%, 100%)"},ambientLight:{isActive:!0,intensity:1,color:"hsl(0, 0%, 100%)"},directionalLight:{isActive:!0,intensity:2e8,color:"hsl(0, 0%, 100%)"}}}),o={state:i,setActive:function(e){switch(e){case"color":s({...i,active:"color"});break;case"image":s({...i,active:"image"});break;case"shader":s({...i,active:"shader"});break;case"scenario":s({...i,active:"scenario"})}},setColor:function(e,t){switch(e){case"color":s({...i,color:{type:"color",color:t}});break;case"gradient":s({...i,color:{type:"gradient",gradient:t}})}},setImage:function(e,t,a,r){s({...i,image:{...i.image,url:e,position:t,size:a,repeat:r}})},setScenario:function(e,t,a){void 0!=t&&s({...i,scenario:{...i.scenario,[e]:{...i.scenario[e],[t]:a}}})}};return(0,r.jsx)(n.Provider,{value:o,children:t})}}}]);
//# sourceMappingURL=631.f98670d8.chunk.js.map